import {projectStatsToPredictedSeries} from 'sentry/views/settings/project/server-side-sampling/utils/projectStatsToPredictedSeries';

describe('projectStatsToPredictedSeries', () => {
  it('basic', () => {
    expect(projectStatsToPredictedSeries(TestStubs.Outcomes(), 0.3, 0.1)).toEqual([
      {
        seriesName: 'Accepted',
        color: 'hsl(340.79999999999995, 61%, 79.4%)',
        barMinHeight: 1,
        type: 'bar',
        stack: 'predictedUsage',
        data: [
          {name: 1656788400000, value: 8806},
          {name: 1656792000000, value: 8436},
          {name: 1656795600000, value: 7873},
          {name: 1656799200000, value: 7770},
          {name: 1656802800000, value: 7375},
          {name: 1656806400000, value: 8335},
          {name: 1656810000000, value: 8700},
          {name: 1656813600000, value: 7265},
          {name: 1656817200000, value: 7249},
          {name: 1656820800000, value: 7456},
          {name: 1656824400000, value: 7505},
          {name: 1656828000000, value: 8046},
          {name: 1656831600000, value: 8866},
          {name: 1656835200000, value: 9227},
          {name: 1656838800000, value: 9036},
          {name: 1656842400000, value: 9036},
          {name: 1656846000000, value: 9459},
          {name: 1656849600000, value: 9994},
          {name: 1656853200000, value: 10067},
          {name: 1656856800000, value: 9872},
          {name: 1656860400000, value: 9691},
          {name: 1656864000000, value: 9484},
          {name: 1656867600000, value: 9358},
          {name: 1656871200000, value: 9190},
          {name: 1656874800000, value: 9033},
          {name: 1656878400000, value: 8967},
          {name: 1656882000000, value: 8283},
          {name: 1656885600000, value: 8213},
          {name: 1656889200000, value: 8949},
          {name: 1656892800000, value: 11023},
          {name: 1656896400000, value: 13311},
          {name: 1656900000000, value: 12672},
          {name: 1656903600000, value: 12461},
          {name: 1656907200000, value: 13907},
          {name: 1656910800000, value: 15748},
          {name: 1656914400000, value: 18315},
          {name: 1656918000000, value: 15937},
          {name: 1656921600000, value: 16413},
          {name: 1656925200000, value: 15470},
          {name: 1656928800000, value: 15600},
          {name: 1656932400000, value: 15930},
          {name: 1656936000000, value: 15225},
          {name: 1656939600000, value: 14665},
          {name: 1656943200000, value: 14718},
          {name: 1656946800000, value: 16916},
          {name: 1656950400000, value: 18247},
          {name: 1656954000000, value: 16293},
          {name: 1656957600000, value: 9293},
        ],
      },
      {
        seriesName: 'Dropped (Server)',
        color: '#F55459',
        data: [
          {name: 1656788400000, value: 79504},
          {name: 1656792000000, value: 76203},
          {name: 1656795600000, value: 71103},
          {name: 1656799200000, value: 70180},
          {name: 1656802800000, value: 66841},
          {name: 1656806400000, value: 75285},
          {name: 1656810000000, value: 78589},
          {name: 1656813600000, value: 65643},
          {name: 1656817200000, value: 65878},
          {name: 1656820800000, value: 67367},
          {name: 1656824400000, value: 67869},
          {name: 1656828000000, value: 72753},
          {name: 1656831600000, value: 80051},
          {name: 1656835200000, value: 83299},
          {name: 1656838800000, value: 81935},
          {name: 1656842400000, value: 81621},
          {name: 1656846000000, value: 85851},
          {name: 1656849600000, value: 90469},
          {name: 1656853200000, value: 90913},
          {name: 1656856800000, value: 89137},
          {name: 1656860400000, value: 87512},
          {name: 1656864000000, value: 86755},
          {name: 1656867600000, value: 84485},
          {name: 1656871200000, value: 83000},
          {name: 1656874800000, value: 81543},
          {name: 1656878400000, value: 81024},
          {name: 1656882000000, value: 74870},
          {name: 1656885600000, value: 74223},
          {name: 1656889200000, value: 80837},
          {name: 1656892800000, value: 99512},
          {name: 1656896400000, value: 120116},
          {name: 1656900000000, value: 114357},
          {name: 1656903600000, value: 112468},
          {name: 1656907200000, value: 125538},
          {name: 1656910800000, value: 142716},
          {name: 1656914400000, value: 210748},
          {name: 1656918000000, value: 287428},
          {name: 1656921600000, value: 316048},
          {name: 1656925200000, value: 307653},
          {name: 1656928800000, value: 268470},
          {name: 1656932400000, value: 258302},
          {name: 1656936000000, value: 285644},
          {name: 1656939600000, value: 295188},
          {name: 1656943200000, value: 285817},
          {name: 1656946800000, value: 233618},
          {name: 1656950400000, value: 181880},
          {name: 1656954000000, value: 147541},
          {name: 1656957600000, value: 84889},
        ],
        barMinHeight: 1,
        type: 'bar',
        stack: 'predictedUsage',
      },
      {
        seriesName: 'Dropped (Client)',
        color: '#F5B000',
        data: [
          {name: 1656788400000, value: 206057},
          {name: 1656792000000, value: 197491},
          {name: 1656795600000, value: 184277},
          {name: 1656799200000, value: 181883},
          {name: 1656802800000, value: 173172},
          {name: 1656806400000, value: 195115},
          {name: 1656810000000, value: 203674},
          {name: 1656813600000, value: 170118},
          {name: 1656817200000, value: 170631},
          {name: 1656820800000, value: 174586},
          {name: 1656824400000, value: 175873},
          {name: 1656828000000, value: 188531},
          {name: 1656831600000, value: 207472},
          {name: 1656835200000, value: 215894},
          {name: 1656838800000, value: 212264},
          {name: 1656842400000, value: 211533},
          {name: 1656846000000, value: 222391},
          {name: 1656849600000, value: 234413},
          {name: 1656853200000, value: 235619},
          {name: 1656856800000, value: 231020},
          {name: 1656860400000, value: 226808},
          {name: 1656864000000, value: 224558},
          {name: 1656867600000, value: 218968},
          {name: 1656871200000, value: 215110},
          {name: 1656874800000, value: 211346},
          {name: 1656878400000, value: 209980},
          {name: 1656882000000, value: 194023},
          {name: 1656885600000, value: 192352},
          {name: 1656889200000, value: 209500},
          {name: 1656892800000, value: 257915},
          {name: 1656896400000, value: 311329},
          {name: 1656900000000, value: 296402},
          {name: 1656903600000, value: 291501},
          {name: 1656907200000, value: 325372},
          {name: 1656910800000, value: 369751},
          {name: 1656914400000, value: 534481},
          {name: 1656918000000, value: 707853},
          {name: 1656921600000, value: 775742},
          {name: 1656925200000, value: 753955},
          {name: 1656928800000, value: 662829},
          {name: 1656932400000, value: 639875},
          {name: 1656936000000, value: 702028},
          {name: 1656939600000, value: 722989},
          {name: 1656943200000, value: 701248},
          {name: 1656946800000, value: 584579},
          {name: 1656950400000, value: 466962},
          {name: 1656954000000, value: 382279},
          {name: 1656957600000, value: 219759},
        ],
        barMinHeight: 1,
        type: 'bar',
        stack: 'predictedUsage',
      },
    ]);
  });
});
