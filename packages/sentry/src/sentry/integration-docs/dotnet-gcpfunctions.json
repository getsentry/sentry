{
  "id": "dotnet-gcpfunctions",
  "name": "Google Cloud Functions (.NET)",
  "html": "<p>Install the <strong>NuGet</strong> package:</p>\n<p>Package Manager:</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell highlight\"><code class=\"language-powershell\"><span class=\"token function\">Install-Package</span> Sentry<span class=\"token punctuation\">.</span>Google<span class=\"token punctuation\">.</span>Cloud<span class=\"token punctuation\">.</span>Functions <span class=\"token operator\">-</span>Version 3<span class=\"token punctuation\">.</span>18<span class=\"token punctuation\">.</span>0</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell highlight\"><code class=\"language-shell\">dotnet <span class=\"token function\">add</span> package Sentry.Google.Cloud.Functions -v <span class=\"token number\">3.18</span>.0</code></pre></div>\n<p>Or, manually add the Sentry dependency into your csproj file:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml highlight\"><code class=\"language-xml\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ItemGroup</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PackageReference</span> <span class=\"token attr-name\">Include</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Sentry.Google.Cloud.Functions<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">Version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3.18.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ItemGroup</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n<p>Then, add Sentry to the  <code>Function</code> class through <code>FunctionsStartup</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp highlight\"><code class=\"language-csharp\"><span class=\"token comment\">// Add the following line:</span>\n<span class=\"token punctuation\">[</span>assembly<span class=\"token punctuation\">:</span> <span class=\"token function\">FunctionsStartup</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">SentryStartup</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Function</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">IHttpFunction</span></span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">HandleAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpContext</span> context<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Your function code here.</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Additionally, you'll need to set up your <code>Sentry</code> settings on <code>appsettings.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json highlight\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"Sentry\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"Dsn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"___PUBLIC_DSN___\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Sends Cookies, User Id when one is logged on and user IP address to sentry. It's turned off by default.</span>\n    <span class=\"token property\">\"SendDefaultPii\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// When configuring for the first time, to see what the SDK is doing:</span>\n    <span class=\"token property\">\"Debug\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Opt-in for payload submission.</span>\n    <span class=\"token property\">\"MaxRequestBodySize\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Always\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Set TracesSampleRate to 1.0 to capture 100% of transactions for performance monitoring.</span>\n    <span class=\"token comment\">// We recommend adjusting this value in production.</span>\n    <span class=\"token property\">\"TracesSampleRate\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"verify\" style=\"position:relative;\">Verify</h2>\n<p>To verify your setup, you can capture a message with the SDK:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp highlight\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Threading<span class=\"token punctuation\">.</span>Tasks</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>AspNetCore<span class=\"token punctuation\">.</span>Http</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Sentry</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">Task</span> <span class=\"token function\">HandleAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpContext</span> context<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    SentrySdk<span class=\"token punctuation\">.</span><span class=\"token function\">CaptureMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello Sentry\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"samples\" style=\"position:relative;\">Samples</h2>\n<p>See the following examples that demonstrate how to integrate Sentry with various frameworks.</p>\n<ul>\n<li><a href=\"https://github.com/getsentry/sentry-dotnet/tree/main/samples/Sentry.Samples.Google.Cloud.Functions\">Google Cloud Functions sample</a></li>\n<li><a href=\"https://github.com/getsentry/sentry-dotnet/tree/main/samples\">Multiple samples in the <code>dotnet</code> SDK repository</a> (<strong>C#</strong>)</li>\n<li><a href=\"https://github.com/sentry-demos/fsharp\">Basic F# sample</a> (<strong>F#</strong>)</li>\n</ul>",
  "link": "https://docs.sentry.io/platforms/dotnet/guides/google-cloud-functions/"
}
