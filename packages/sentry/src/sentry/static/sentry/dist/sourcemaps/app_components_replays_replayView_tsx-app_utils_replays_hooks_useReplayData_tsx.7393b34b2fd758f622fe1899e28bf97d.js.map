{"version":3,"file":"chunks/app_components_replays_replayView_tsx-app_utils_replays_hooks_useReplayData_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/replays/player/bufferingOverlay.tsx","webpack:///./app/components/replays/player/fastForwardBadge.tsx","webpack:///./app/components/replays/player/scrubber.tsx","webpack:///./app/components/replays/player/scrubberMouseTracking.tsx","webpack:///./app/components/replays/progress.tsx","webpack:///./app/components/replays/replayController.tsx","webpack:///./app/components/replays/replayCurrentUrl.tsx","webpack:///./app/components/replays/replayPlayer.tsx","webpack:///./app/components/replays/replayView.tsx","webpack:///./app/utils/replays/flattenListOfObjects.tsx","webpack:///./app/utils/replays/getBreadcrumb.tsx","webpack:///./app/utils/replays/getCurrentUrl.tsx","webpack:///./app/utils/replays/hooks/useDiscoveryQuery.tsx","webpack:///./app/utils/replays/hooks/useFullscreen.tsx","webpack:///./app/utils/replays/hooks/useMouseTracking.tsx","webpack:///./app/utils/replays/hooks/useReplayData.tsx","webpack:///./app/utils/replays/hooks/useReplayErrors.tsx","webpack:///./app/utils/replays/replayReader.tsx","webpack:///./app/views/replays/detail/layout/fluidHeight.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nimport {IconClock} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  className?: string;\n};\n\nfunction BufferingOverlay({className}: Props) {\n  return (\n    <Overlay className={className}>\n      <Message>\n        <IconClock size=\"sm\" />\n        {t('Buffering...')}\n      </Message>\n    </Overlay>\n  );\n}\n\n/* Position the badge in the corner */\nconst Overlay = styled('div')`\n  user-select: none;\n  display: grid;\n  place-items: center;\n`;\n\n/* Badge layout and style */\nconst Message = styled('div')`\n  display: grid;\n  grid-template-columns: max-content max-content;\n  gap: ${space(0.75)};\n  place-items: center;\n\n  padding: ${space(3)};\n  background: ${p => p.theme.gray300};\n  border-radius: ${p => p.theme.borderRadius};\n  color: ${p => p.theme.white};\n  z-index: ${p => p.theme.zIndex.initial};\n`;\n\nexport default BufferingOverlay;\n","import styled from '@emotion/styled';\n\nimport Tooltip from 'sentry/components/tooltip';\nimport {IconArrow} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  speed: number;\n  className?: string;\n};\n\nfunction FastForwardBadge({speed, className}: Props) {\n  return (\n    <Badge className={className}>\n      <FastForwardTooltip title={t('Fast forwarding')}>\n        <IconArrow size=\"sm\" direction=\"right\" />\n        {speed}x\n      </FastForwardTooltip>\n    </Badge>\n  );\n}\n\n/* Position the badge in the corner */\nconst Badge = styled('div')`\n  user-select: none;\n  display: grid;\n  align-items: end;\n  justify-items: start;\n`;\n\n/* Badge layout and style */\nconst FastForwardTooltip = styled(Tooltip)`\n  display: grid;\n  grid-template-columns: max-content max-content;\n  gap: ${space(0.5)};\n  align-items: center;\n\n  background: ${p => p.theme.gray300};\n  color: ${p => p.theme.white};\n  padding: ${space(1.5)} ${space(2)};\n  border-top-right-radius: ${p => p.theme.borderRadius};\n  z-index: ${p => p.theme.zIndex.initial};\n`;\n\nexport default FastForwardBadge;\n","import styled from '@emotion/styled';\n\nimport RangeSlider from 'sentry/components/forms/controls/rangeSlider';\nimport SliderAndInputWrapper from 'sentry/components/forms/controls/rangeSlider/sliderAndInputWrapper';\nimport * as Progress from 'sentry/components/replays/progress';\nimport {useReplayContext} from 'sentry/components/replays/replayContext';\nimport {divide} from 'sentry/components/replays/utils';\nimport space from 'sentry/styles/space';\n\ntype Props = {\n  className?: string;\n};\n\nfunction Scrubber({className}: Props) {\n  const {currentHoverTime, currentTime, replay, setCurrentTime} = useReplayContext();\n  const durationMs = replay?.getDurationMs();\n\n  const percentComplete = divide(currentTime, durationMs);\n  const hoverPlace = divide(currentHoverTime || 0, durationMs);\n\n  return (\n    <Wrapper className={className}>\n      <Meter>\n        {currentHoverTime ? <MouseTrackingValue percent={hoverPlace} /> : null}\n        <PlaybackTimeValue percent={percentComplete} />\n      </Meter>\n      <RangeWrapper>\n        <Range\n          name=\"replay-timeline\"\n          min={0}\n          max={durationMs}\n          value={Math.round(currentTime)}\n          onChange={value => setCurrentTime(value || 0)}\n          showLabel={false}\n        />\n      </RangeWrapper>\n    </Wrapper>\n  );\n}\n\nconst Meter = styled(Progress.Meter)`\n  background: ${p => p.theme.gray200};\n`;\n\nconst RangeWrapper = styled('div')`\n  overflow: hidden;\n  width: 100%;\n`;\n\nconst Range = styled(RangeSlider)`\n  input {\n    cursor: pointer;\n    opacity: 0;\n    height: 100%;\n\n    &::-webkit-slider-thumb {\n      height: 0px;\n      width: 0px;\n    }\n\n    &::-moz-range-thumb {\n      height: 0px;\n      width: 0px;\n    }\n\n    &::-ms-thumb {\n      height: 0px;\n      width: 0px;\n    }\n  }\n`;\n\n// Need the named value so we can target it separatly from PlaybackTimeValue\nconst PlaybackTimeValue = styled(Progress.Value)``;\nconst MouseTrackingValue = styled(Progress.Value)``;\n\nconst Wrapper = styled('div')`\n  position: relative;\n\n  width: 100%;\n\n  & > * {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n`;\n\nexport const TimelineScrubber = styled(Scrubber)`\n  height: 100%;\n\n  ${Meter} {\n    background: transparent;\n  }\n\n  ${RangeWrapper},\n  ${Range},\n  ${SliderAndInputWrapper} {\n    height: 100%;\n  }\n\n  ${PlaybackTimeValue} {\n    background: ${p => p.theme.purple100};\n    border-top-left-radius: 3px;\n    border-bottom-left-radius: 3px;\n  }\n\n  /**\n   * Draw lines so users can see the currenTime & their mouse position\n   * \"----|----|--------------------- duration = 1:00\"\n   *      ^    ^\n   *      |    PlaybackTimeValue @ 20s\n   *      MouseTrackingValue @ 10s\n   */\n  ${PlaybackTimeValue},\n  ${MouseTrackingValue} {\n    border-right: ${space(0.25)} solid ${p => p.theme.purple300};\n  }\n`;\n\nexport const PlayerScrubber = styled(Scrubber)`\n  height: ${space(0.5)};\n\n  :hover {\n    margin-block: -${space(0.25)};\n    height: ${space(1)};\n  }\n\n  ${Meter} {\n    border-radius: ${p => p.theme.borderRadiusBottom};\n  }\n\n  ${RangeWrapper} {\n    height: ${space(0.5)};\n  }\n  :hover ${RangeWrapper} {\n    height: ${space(0.75)};\n  }\n\n  ${PlaybackTimeValue} {\n    background: ${p => p.theme.purple200};\n    border-bottom-left-radius: ${p => p.theme.borderRadius};\n  }\n\n  /**\n   * Draw the circle (appears on hover) to mark the currentTime of the video\n   * \"---------o-------------------- duration = 1:00\"\n   *           ^\n   *           PlaybackTimeValue @ 20s\n   */\n  ${PlaybackTimeValue}:after {\n    content: '';\n    display: block;\n    width: ${space(2)};\n    height: ${space(2)}; /* equal to width */\n    z-index: ${p => p.theme.zIndex.initial};\n    pointer-events: none;\n    background: ${p => p.theme.purple300};\n    box-sizing: content-box;\n    border-radius: ${space(2)}; /* greater than or equal to width */\n    border: solid ${p => p.theme.white};\n    border-width: ${space(0.5)};\n    position: absolute;\n    top: -${space(1)}; /* Half the width */\n    right: -${space(1.5)}; /* Half of (width + borderWidth) */\n    opacity: 0;\n    transition: opacity 0.1s ease;\n  }\n  :hover ${PlaybackTimeValue}:after {\n    opacity: 1;\n  }\n\n  /*\n   * Draw a square so users can see their mouse position when it is left or right of the currentTime\n   * \"----â–¡----o--------------------- duration = 1:00\"\n   *      ^    ^\n   *      |    PlaybackTimeValue @ 20s\n   *      MouseTrackingValue @ 10s\n   */\n  ${MouseTrackingValue}:after {\n    content: '';\n    display: block;\n    width: ${space(0.5)};\n    height: ${space(1.5)};\n    pointer-events: none;\n    background: ${p => p.theme.purple200};\n    box-sizing: content-box;\n    position: absolute;\n    top: -${space(0.5)};\n    right: -1px;\n  }\n  :hover ${MouseTrackingValue}:after {\n    height: ${space(2)};\n    top: -${space(0.5)};\n  }\n`;\n","import {useCallback} from 'react';\n\nimport {useReplayContext} from 'sentry/components/replays/replayContext';\nimport useMouseTracking from 'sentry/utils/replays/hooks/useMouseTracking';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nfunction ScrubberMouseTracking({children}: Props) {\n  const {replay, setCurrentHoverTime} = useReplayContext();\n  const durationMs = replay?.getDurationMs();\n\n  const handlePositionChange = useCallback(\n    params => {\n      if (!params || durationMs === undefined) {\n        setCurrentHoverTime(undefined);\n        return;\n      }\n      const {left, width} = params;\n\n      if (left >= 0) {\n        const percent = left / width;\n        const time = percent * durationMs;\n        setCurrentHoverTime(time);\n      } else {\n        setCurrentHoverTime(undefined);\n      }\n    },\n    [durationMs, setCurrentHoverTime]\n  );\n\n  const mouseTrackingProps = useMouseTracking<HTMLDivElement>({\n    onPositionChange: handlePositionChange,\n  });\n\n  return <div {...mouseTrackingProps}>{children}</div>;\n}\n\nexport default ScrubberMouseTracking;\n","import styled from '@emotion/styled';\n\n/**\n * A simple progress bar.\n * ```\n * <Meter>\n *   <Value percent={0.75} />\n * </Meter>\n * ```\n *\n * Extend the components to set a background color.\n *\n * Return multiple <Value /> components to render multiple bars directly on top\n * of each other with `position:absolute;`.\n */\nexport const Meter = styled('div')`\n  position: relative;\n  height: 100%;\n  width: 100%;\n  pointer-events: none;\n`;\n\nexport const Value = styled('span')<{\n  percent: number;\n}>`\n  position: absolute;\n  height: 100%;\n  width: ${p => p.percent * 100}%;\n  pointer-events: none;\n`;\n","import React, {useCallback, useLayoutEffect, useRef, useState} from 'react';\nimport styled from '@emotion/styled';\nimport {useResizeObserver} from '@react-aria/utils';\n\nimport Button from 'sentry/components/button';\nimport ButtonBar from 'sentry/components/buttonBar';\nimport CompositeSelect from 'sentry/components/forms/compositeSelect';\nimport {useReplayContext} from 'sentry/components/replays/replayContext';\nimport {formatTime, relativeTimeInMs} from 'sentry/components/replays/utils';\nimport {\n  IconContract,\n  IconExpand,\n  IconNext,\n  IconPause,\n  IconPlay,\n  IconPrevious,\n  IconRewind10,\n  IconSettings,\n} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {SelectValue} from 'sentry/types';\nimport {BreadcrumbType} from 'sentry/types/breadcrumbs';\nimport {getNextBreadcrumb} from 'sentry/utils/replays/getBreadcrumb';\nimport useFullscreen from 'sentry/utils/replays/hooks/useFullscreen';\n\nconst SECOND = 1000;\n\nconst USER_ACTIONS = [\n  BreadcrumbType.ERROR,\n  BreadcrumbType.INIT,\n  BreadcrumbType.NAVIGATION,\n  BreadcrumbType.UI,\n  BreadcrumbType.USER,\n];\n\ninterface Props {\n  speedOptions?: number[];\n  toggleFullscreen?: () => void;\n}\n\nfunction ReplayPlayPauseBar({isCompact}: {isCompact: boolean}) {\n  const {\n    currentTime,\n    isFinished,\n    isPlaying,\n    replay,\n    restart,\n    setCurrentTime,\n    togglePlayPause,\n  } = useReplayContext();\n\n  return (\n    <ButtonBar merged>\n      {!isCompact && (\n        <Button\n          size=\"sm\"\n          title={t('Rewind 10s')}\n          icon={<IconRewind10 size=\"sm\" />}\n          onClick={() => setCurrentTime(currentTime - 10 * SECOND)}\n          aria-label={t('Rewind 10 seconds')}\n        />\n      )}\n      {isFinished ? (\n        <Button\n          size=\"sm\"\n          title={t('Restart Replay')}\n          icon={<IconPrevious size=\"sm\" />}\n          onClick={restart}\n          aria-label={t('Restart Replay')}\n        />\n      ) : (\n        <Button\n          size=\"sm\"\n          title={isPlaying ? t('Pause') : t('Play')}\n          icon={isPlaying ? <IconPause size=\"sm\" /> : <IconPlay size=\"sm\" />}\n          onClick={() => togglePlayPause(!isPlaying)}\n          aria-label={isPlaying ? t('Pause') : t('Play')}\n        />\n      )}\n      {!isCompact && (\n        <Button\n          size=\"sm\"\n          title={t('Next breadcrumb')}\n          icon={<IconNext size=\"sm\" />}\n          onClick={() => {\n            const startTimestampMs = replay?.getReplay().startedAt?.getTime();\n            if (!startTimestampMs) {\n              return;\n            }\n            const transformedCrumbs = replay?.getRawCrumbs() || [];\n            const next = getNextBreadcrumb({\n              crumbs: transformedCrumbs.filter(crumb =>\n                USER_ACTIONS.includes(crumb.type)\n              ),\n              targetTimestampMs: startTimestampMs + currentTime,\n            });\n\n            if (startTimestampMs !== undefined && next?.timestamp) {\n              setCurrentTime(relativeTimeInMs(next.timestamp, startTimestampMs));\n            }\n          }}\n          aria-label={t('Fast-forward to next breadcrumb')}\n        />\n      )}\n    </ButtonBar>\n  );\n}\n\nfunction ReplayCurrentTime() {\n  const {currentTime, replay} = useReplayContext();\n  const durationMs = replay?.getDurationMs();\n\n  return (\n    <span>\n      {formatTime(currentTime)} / {durationMs ? formatTime(durationMs) : '--:--'}\n    </span>\n  );\n}\n\nfunction ReplayOptionsMenu({speedOptions}: {speedOptions: number[]}) {\n  const {setSpeed, speed, isSkippingInactive, toggleSkipInactive} = useReplayContext();\n  const SKIP_OPTION_VALUE = 'skip';\n\n  return (\n    <CompositeSelect<SelectValue<string | number>>\n      placement=\"bottom\"\n      trigger={({props, ref}) => (\n        <Button\n          ref={ref}\n          {...props}\n          size=\"sm\"\n          title={t('Settings')}\n          aria-label={t('Settings')}\n          icon={<IconSettings size=\"sm\" />}\n        />\n      )}\n      sections={[\n        {\n          defaultValue: speed,\n          label: t('Playback Speed'),\n          value: 'playback_speed',\n          onChange: setSpeed,\n          options: speedOptions.map(option => ({\n            label: `${option}x`,\n            value: option,\n          })),\n        },\n        {\n          multiple: true,\n          defaultValue: isSkippingInactive ? SKIP_OPTION_VALUE : undefined,\n          label: '',\n          value: 'fast_forward',\n          onChange: (value: typeof SKIP_OPTION_VALUE[]) => {\n            toggleSkipInactive(value.length > 0);\n          },\n          options: [\n            {\n              label: t('Fast-forward inactivity'),\n              value: SKIP_OPTION_VALUE,\n            },\n          ],\n        },\n      ]}\n    />\n  );\n}\n\nconst ReplayControls = ({\n  toggleFullscreen = () => {},\n  speedOptions = [0.1, 0.25, 0.5, 1, 2, 4],\n}: Props) => {\n  const barRef = useRef<HTMLDivElement>(null);\n  const [compactLevel, setCompactLevel] = useState(0);\n  const {isFullscreen} = useFullscreen();\n\n  const updateCompactLevel = useCallback(() => {\n    const {width} = barRef.current?.getBoundingClientRect() ?? {width: 500};\n    if (width < 400) {\n      setCompactLevel(1);\n    } else {\n      setCompactLevel(0);\n    }\n  }, []);\n\n  useResizeObserver({\n    ref: barRef,\n    onResize: updateCompactLevel,\n  });\n  useLayoutEffect(() => updateCompactLevel, [updateCompactLevel]);\n\n  return (\n    <ButtonGrid ref={barRef}>\n      <ReplayPlayPauseBar isCompact={compactLevel > 0} />\n      <ReplayCurrentTime />\n\n      <ReplayOptionsMenu speedOptions={speedOptions} />\n\n      <Button\n        size=\"sm\"\n        title={isFullscreen ? t('Exit full screen') : t('Enter full screen')}\n        aria-label={isFullscreen ? t('Exit full screen') : t('Enter full screen')}\n        icon={isFullscreen ? <IconContract size=\"sm\" /> : <IconExpand size=\"sm\" />}\n        onClick={toggleFullscreen}\n      />\n    </ButtonGrid>\n  );\n};\n\nconst ButtonGrid = styled('div')`\n  display: grid;\n  grid-column-gap: ${space(1)};\n  grid-template-columns: max-content auto max-content max-content;\n  align-items: center;\n`;\n\nexport default ReplayControls;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport TextCopyInput from 'sentry/components/forms/textCopyInput';\nimport {useReplayContext} from 'sentry/components/replays/replayContext';\nimport getCurrentUrl from 'sentry/utils/replays/getCurrentUrl';\n\nfunction ReplayCurrentUrl() {\n  const {currentTime, replay} = useReplayContext();\n  if (!replay) {\n    return <UrlCopyInput disabled>{''}</UrlCopyInput>;\n  }\n\n  const replayRecord = replay.getReplay();\n  const crumbs = replay.getRawCrumbs();\n\n  return <UrlCopyInput>{getCurrentUrl(replayRecord, crumbs, currentTime)}</UrlCopyInput>;\n}\n\nconst UrlCopyInput = styled(TextCopyInput)`\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nexport default ReplayCurrentUrl;\n","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport styled from '@emotion/styled';\nimport {useResizeObserver} from '@react-aria/utils';\n\nimport {Panel as _Panel} from 'sentry/components/panels';\nimport BufferingOverlay from 'sentry/components/replays/player/bufferingOverlay';\nimport FastForwardBadge from 'sentry/components/replays/player/fastForwardBadge';\nimport {useReplayContext} from 'sentry/components/replays/replayContext';\n\ninterface Props {\n  className?: string;\n}\n\nfunction BasePlayerRoot({className}: Props) {\n  const {\n    initRoot,\n    dimensions: videoDimensions,\n    fastForwardSpeed,\n    isBuffering,\n  } = useReplayContext();\n\n  const windowEl = useRef<HTMLDivElement>(null);\n  const viewEl = useRef<HTMLDivElement>(null);\n\n  const [windowDimensions, setWindowDimensions] = useState({\n    width: 0,\n    height: 0,\n  });\n\n  // Create the `rrweb` instance which creates an iframe inside `viewEl`\n  useEffect(() => initRoot(viewEl.current), [initRoot]);\n\n  // Read the initial width & height where the player will be inserted, this is\n  // so we can shrink the video into the available space.\n  // If the size of the container changes, we can re-calculate the scaling factor\n  const updateWindowDimensions = useCallback(\n    () =>\n      setWindowDimensions({\n        width: windowEl.current?.clientWidth || 0,\n        height: windowEl.current?.clientHeight || 0,\n      }),\n    [setWindowDimensions]\n  );\n  useResizeObserver({ref: windowEl, onResize: updateWindowDimensions});\n  // If your browser doesn't have ResizeObserver then set the size once.\n  useEffect(() => {\n    if (typeof window.ResizeObserver !== 'undefined') {\n      return;\n    }\n    updateWindowDimensions();\n  }, [updateWindowDimensions]);\n\n  // Update the scale of the view whenever dimensions have changed.\n  useEffect(() => {\n    if (viewEl.current) {\n      const scale = Math.min(\n        windowDimensions.width / videoDimensions.width,\n        windowDimensions.height / videoDimensions.height,\n        1\n      );\n      if (scale) {\n        viewEl.current.style['transform-origin'] = 'top left';\n        viewEl.current.style.transform = `scale(${scale})`;\n        viewEl.current.style.width = `${videoDimensions.width * scale}px`;\n        viewEl.current.style.height = `${videoDimensions.height * scale}px`;\n      }\n    }\n  }, [windowDimensions, videoDimensions]);\n\n  return (\n    <SizingWindow ref={windowEl} className=\"sr-block\">\n      <div ref={viewEl} className={className} />\n      {fastForwardSpeed ? <PositionedFastForward speed={fastForwardSpeed} /> : null}\n      {isBuffering ? <PositionedBuffering /> : null}\n    </SizingWindow>\n  );\n}\n\n// Center the viewEl inside the windowEl.\n// This is useful when the window is inside a container that has large fixed\n// dimensions, like when in fullscreen mode.\n// If the container has a dimensions that can grow/shrink then it is\n// important to also set `overflow: hidden` on the container, so that the\n// SizingWindow can calculate size as things shrink.\nconst SizingWindow = styled('div')`\n  width: 100%;\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n\n  background-color: ${p => p.theme.backgroundSecondary};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${p => p.theme.backgroundSecondary} 8px,\n      ${p => p.theme.backgroundSecondary} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${p => p.theme.gray100} 15px,\n      ${p => p.theme.gray100} 16px\n    );\n`;\n\nconst PositionedFastForward = styled(FastForwardBadge)`\n  position: absolute;\n  left: 0;\n  bottom: 0;\n`;\n\nconst PositionedBuffering = styled(BufferingOverlay)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n`;\n\n// Base styles, to make the Replayer instance work\nconst PlayerRoot = styled(BasePlayerRoot)`\n  .replayer-wrapper {\n    user-select: none;\n  }\n  .replayer-wrapper > .replayer-mouse-tail {\n    position: absolute;\n    pointer-events: none;\n  }\n\n  /* Override default user-agent styles */\n  .replayer-wrapper > iframe {\n    border: none;\n    background: white;\n  }\n`;\n\n// Sentry-specific styles for the player.\n// The elements we have to work with are:\n// ```css\n// div.replayer-wrapper {}\n// div.replayer-wrapper > div.replayer-mouse {}\n// div.replayer-wrapper > canvas.replayer-mouse-tail {}\n// div.replayer-wrapper > iframe {}\n// ```\n// The mouse-tail is also configured for color/size in `app/components/replays/replayContext.tsx`\nconst SentryPlayerRoot = styled(PlayerRoot)`\n  .replayer-mouse {\n    position: absolute;\n    width: 32px;\n    height: 32px;\n    transition: left 0.05s linear, top 0.05s linear;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxMiAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMTZWMEwxMS42IDExLjZINC44TDQuNCAxMS43TDAgMTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNOS4xIDE2LjdMNS41IDE4LjJMMC43OTk5OTkgNy4xTDQuNSA1LjZMOS4xIDE2LjdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNC42NzQ1MSA4LjYxODUxTDIuODMwMzEgOS4zOTI3MUw1LjkyNzExIDE2Ljc2OTVMNy43NzEzMSAxNS45OTUzTDQuNjc0NTEgOC42MTg1MVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xIDIuNFYxMy42TDQgMTAuN0w0LjQgMTAuNkg5LjJMMSAyLjRaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K');\n    border-color: transparent;\n  }\n  .replayer-mouse:after {\n    content: '';\n    display: inline-block;\n    width: 32px;\n    height: 32px;\n    background: ${p => p.theme.purple300};\n    border-radius: 100%;\n    transform: translate(-50%, -50%);\n    opacity: 0.3;\n  }\n  .replayer-mouse.active:after {\n    animation: click 0.2s ease-in-out 1;\n  }\n  .replayer-mouse.touch-device {\n    background-image: none;\n    width: 70px;\n    height: 70px;\n    border-radius: 100%;\n    margin-left: -37px;\n    margin-top: -37px;\n    border: 4px solid rgba(73, 80, 246, 0);\n    transition: left 0s linear, top 0s linear, border-color 0.2s ease-in-out;\n  }\n  .replayer-mouse.touch-device.touch-active {\n    border-color: ${p => p.theme.purple200};\n    transition: left 0.25s linear, top 0.25s linear, border-color 0.2s ease-in-out;\n  }\n  .replayer-mouse.touch-device:after {\n    opacity: 0;\n  }\n  .replayer-mouse.touch-device.active:after {\n    animation: touch-click 0.2s ease-in-out 1;\n  }\n  @keyframes click {\n    0% {\n      opacity: 0.3;\n      width: 20px;\n      height: 20px;\n    }\n    50% {\n      opacity: 0.5;\n      width: 10px;\n      height: 10px;\n    }\n  }\n  @keyframes touch-click {\n    0% {\n      opacity: 0;\n      width: 20px;\n      height: 20px;\n    }\n    50% {\n      opacity: 0.5;\n      width: 10px;\n      height: 10px;\n    }\n  }\n`;\n\nexport default SentryPlayerRoot;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {PlayerScrubber} from 'sentry/components/replays/player/scrubber';\nimport ScrubberMouseTracking from 'sentry/components/replays/player/scrubberMouseTracking';\nimport ReplayController from 'sentry/components/replays/replayController';\nimport ReplayCurrentUrl from 'sentry/components/replays/replayCurrentUrl';\nimport ReplayPlayer from 'sentry/components/replays/replayPlayer';\nimport space from 'sentry/styles/space';\nimport FluidHeight from 'sentry/views/replays/detail/layout/fluidHeight';\n\ntype Props = {\n  toggleFullscreen: () => void;\n  showAddressBar?: boolean;\n};\n\nfunction ReplayView({toggleFullscreen, showAddressBar = true}: Props) {\n  return (\n    <Fragment>\n      {showAddressBar && <ReplayCurrentUrl />}\n      <PlayerContainer>\n        <Panel>\n          <ReplayPlayer />\n        </Panel>\n        <ScrubberMouseTracking>\n          <PlayerScrubber />\n        </ScrubberMouseTracking>\n      </PlayerContainer>\n      <ReplayController toggleFullscreen={toggleFullscreen} />\n    </Fragment>\n  );\n}\n\nconst PlayerContainer = styled(FluidHeight)`\n  padding-bottom: ${space(1)};\n  margin-bottom: -${space(1)};\n`;\n\nconst Panel = styled(FluidHeight)`\n  background: ${p => p.theme.background};\n  border-radius: ${p => p.theme.borderRadiusTop};\n  border: 1px solid ${p => p.theme.border};\n  border-bottom: none;\n  box-shadow: ${p => p.theme.dropShadowLight};\n`;\n\nexport default ReplayView;\n","/**\n * Given a list of objects (or maps) of `string` -> `any[]`,\n * merge the arrays of each key in the object.\n *\n * e.g. [{a: [1]}, {a: [2]}, {b: [3]}] ==> {a: [1, 2], b: {3}}\n *\n * Any non-array values will throw an exception\n */\nexport default function flattenListOfObjects(\n  objs: Array<Record<string, any[] | undefined>>\n) {\n  return objs.reduce((acc, obj) => {\n    Object.entries(obj).forEach(([key, value]) => {\n      if (!Array.isArray(value)) {\n        // e.g. if value is undefined (otherwise, a non-Array type will get caught by ts)\n        // TS doesn't like our test where object keys are no equivalent, so we\n        // need to allow `undefined` as a valid type in the Record.\n        throw new Error('Invalid value');\n      }\n\n      acc[key] = (acc[key] || []).concat(value);\n    });\n\n    return acc;\n  }, {});\n}\n","import {Crumb} from 'sentry/types/breadcrumbs';\n\nexport function getPrevBreadcrumb({\n  crumbs,\n  targetTimestampMs,\n  allowExact = false,\n}: {\n  crumbs: Crumb[];\n  targetTimestampMs: number;\n  allowExact?: boolean;\n}) {\n  return crumbs.reduce<Crumb | undefined>((prev, crumb) => {\n    const crumbTimestampMS = +new Date(crumb.timestamp || '');\n\n    if (\n      crumbTimestampMS > targetTimestampMs ||\n      (!allowExact && crumbTimestampMS === targetTimestampMs)\n    ) {\n      return prev;\n    }\n    if (!prev || crumbTimestampMS > +new Date(prev.timestamp || '')) {\n      return crumb;\n    }\n    return prev;\n  }, undefined);\n}\n\nexport function getNextBreadcrumb({\n  crumbs,\n  targetTimestampMs,\n  allowExact = false,\n}: {\n  crumbs: Crumb[];\n  targetTimestampMs: number;\n  allowExact?: boolean;\n}) {\n  return crumbs.reduce<Crumb | undefined>((found, crumb) => {\n    const crumbTimestampMS = +new Date(crumb.timestamp || '');\n\n    if (\n      crumbTimestampMS < targetTimestampMs ||\n      (!allowExact && crumbTimestampMS === targetTimestampMs)\n    ) {\n      return found;\n    }\n    if (!found || crumbTimestampMS < +new Date(found.timestamp || '')) {\n      return crumb;\n    }\n    return found;\n  }, undefined);\n}\n","import last from 'lodash/last';\n\nimport type {Crumb} from 'sentry/types/breadcrumbs';\nimport {BreadcrumbType, BreadcrumbTypeNavigation} from 'sentry/types/breadcrumbs';\nimport type {ReplayRecord} from 'sentry/views/replays/types';\n\nfunction getCurrentUrl(\n  replayRecord: ReplayRecord,\n  crumbs: Crumb[],\n  currentOffsetMS: number\n) {\n  const startTimestampMs = replayRecord.startedAt.getTime();\n  const currentTimeMs = startTimestampMs + Math.floor(currentOffsetMS);\n\n  const navigationCrumbs = crumbs.filter(\n    crumb => crumb.type === BreadcrumbType.NAVIGATION\n  ) as BreadcrumbTypeNavigation[];\n\n  const initialUrl = replayRecord.tags.url;\n  const origin = initialUrl ? new URL(initialUrl).origin : '';\n\n  const mostRecentNavigation = last(\n    navigationCrumbs.filter(({timestamp}) => +new Date(timestamp || 0) < currentTimeMs)\n  )?.data?.to;\n\n  if (!mostRecentNavigation) {\n    return initialUrl;\n  }\n\n  try {\n    // If `mostRecentNavigation` has the origin then we can parse it as a URL\n    const url = new URL(mostRecentNavigation);\n    return String(url);\n  } catch {\n    // Otherwise we need to add the origin manually and hope the suffix makes sense.\n    return origin + mostRecentNavigation;\n  }\n}\n\nexport default getCurrentUrl;\n","import {useEffect, useState} from 'react';\nimport {Location} from 'history';\n\nimport {NewQuery} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport useApi from 'sentry/utils/useApi';\nimport useOrganization from 'sentry/utils/useOrganization';\n\ntype OptionalProperties = 'projects' | 'environment' | 'id' | 'name' | 'version';\ninterface Params {\n  /**\n   * The Discover query to perform. This is a function because we will require the consumer of the hook to memoize this function.\n   */\n  discoverQuery: Omit<NewQuery, OptionalProperties> &\n    Partial<Pick<NewQuery, OptionalProperties>>;\n\n  endpoint?: string;\n\n  /**\n   * Should we ignore the current URL parameter `cursor`?\n   *\n   * This is useful when we are making nested discover queries and the child queries have their own cursor (or do not need it at all).\n   */\n  ignoreCursor?: boolean;\n}\n\ninterface State<T> {\n  data: T[] | undefined;\n  error: Error | undefined;\n  isLoading: boolean;\n  pageLinks: string | undefined;\n}\n\nconst INITIAL_STATE: Readonly<State<any>> = {\n  isLoading: true,\n  error: undefined,\n  data: undefined,\n  pageLinks: undefined,\n};\n\nconst FAKE_LOCATION = {\n  query: {},\n} as Location;\n\n/**\n * Simple custom hook to perform a Discover query.\n *\n * Note this does *not* handle URL parameters like the render component `<DiscoverQuery>`.\n * It will need to be handled in a parent.\n */\nexport default function useDiscoverQuery<T = unknown>({\n  endpoint,\n  discoverQuery,\n  ignoreCursor,\n}: Params) {\n  const [state, setState] = useState<State<T>>(INITIAL_STATE);\n  const api = useApi();\n  const organization = useOrganization();\n\n  useEffect(() => {\n    async function runQuery() {\n      const url = endpoint || `/organizations/${organization.slug}/eventsv2/`;\n      const eventView = EventView.fromNewQueryWithLocation(\n        {\n          environment: [],\n          projects: [],\n          id: '',\n          name: '',\n          version: 2,\n          ...discoverQuery,\n        },\n        FAKE_LOCATION\n      );\n      const query = eventView.getEventsAPIPayload(FAKE_LOCATION);\n\n      setState(prevState => ({...prevState, isLoading: true, error: undefined}));\n      api.clear();\n\n      try {\n        const [data, , resp] = await api.requestPromise(url, {\n          includeAllArgs: true,\n          query,\n        });\n        setState(prevState => ({\n          ...prevState,\n          isLoading: false,\n          error: undefined,\n          pageLinks: resp?.getResponseHeader('Link') ?? prevState.pageLinks,\n          data: data.data,\n        }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          isLoading: false,\n          error,\n          data: undefined,\n        }));\n      }\n    }\n\n    runQuery();\n\n    // location is ignored in deps array, see getEventView comments\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [endpoint, discoverQuery, organization.slug, ignoreCursor]);\n\n  return state;\n}\n","import {MutableRefObject, useCallback, useEffect, useRef, useState} from 'react';\nimport screenfull from 'screenfull';\n\n// See: https://developer.mozilla.org/en-US/docs/web/api/element/requestfullscreen#options_2\ninterface FullscreenOptions {\n  navigationUI: 'hide' | 'show' | 'auto';\n}\n\ninterface FullscreenHook {\n  /**\n   * Render, in fullscreen, the `ref` that this instance relates to. If `ref`\n   * is unset, then `<html>` will be used.\n   */\n  enter: (options?: FullscreenOptions) => void;\n\n  /**\n   * Bring the browser out of fullscreen, regardless of which DOM element is\n   * currently active.\n   */\n  exit: () => void;\n\n  /**\n   * If the browser supports going fullscreen or not. iPhone Safari won't do\n   * it. https://caniuse.com/fullscreen\n   */\n  isEnabled: boolean;\n\n  /**\n   * Whether any element on the page is rendered fullscreen.\n   */\n  isFullscreen: boolean;\n\n  /**\n   * The element that this instance of `enter()` will use to go fullscreen.\n   * Calling `useFullscreen()` a second time will create a different instance of\n   * `ref` and `enter.\n   */\n  ref: MutableRefObject<null | HTMLDivElement>;\n\n  /**\n   * Toggle fullscreen mode on and off, for the `ref` that this instance\n   * relates to.\n   */\n  toggle: () => void;\n}\n\n// TODO(replay): move into app/utils/*\nexport default function useFullscreen(): FullscreenHook {\n  const ref = useRef<null | HTMLDivElement>(null);\n\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  const enter = useCallback(async (opts: FullscreenOptions = {navigationUI: 'auto'}) => {\n    if (screenfull.isEnabled && ref.current) {\n      await screenfull.request(ref.current, opts);\n    }\n  }, []);\n\n  const exit = useCallback(async () => {\n    if (screenfull.isEnabled) {\n      await screenfull.exit();\n    }\n  }, []);\n\n  const toggle = useCallback(\n    () => (isFullscreen ? exit() : enter()),\n    [enter, exit, isFullscreen]\n  );\n\n  const onChange = () => {\n    setIsFullscreen(screenfull.isFullscreen);\n  };\n\n  useEffect(() => {\n    screenfull.on('change', onChange);\n    return () => screenfull.off('change', onChange);\n  }, []);\n\n  return {\n    enter,\n    exit,\n    isEnabled: screenfull.isEnabled,\n    isFullscreen,\n    ref,\n    toggle,\n  };\n}\n","import {DOMAttributes, MouseEvent, useCallback, useRef} from 'react';\nimport * as Sentry from '@sentry/react';\n\ntype CallbackArgs = {height: number; left: number; top: number; width: number};\n\ntype Opts<T extends Element> = {\n  onPositionChange: (args: undefined | CallbackArgs) => void;\n} & DOMAttributes<T>;\n\nclass AbortError extends Error {}\n\n/**\n * Replace `elem.getBoundingClientRect()` which is too laggy for onPositionChange\n */\nfunction getBoundingRect(\n  elem: Element,\n  {signal}: {signal: AbortSignal}\n): Promise<DOMRectReadOnly> {\n  return new Promise((resolve, reject) => {\n    if (signal.aborted) {\n      reject(new AbortError());\n    }\n\n    const abortHandler = () => {\n      reject(new AbortError());\n    };\n\n    const observer = new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        const bounds = entry.boundingClientRect;\n        resolve(bounds);\n        signal.removeEventListener('abort', abortHandler);\n      }\n      observer.disconnect();\n    });\n    signal.addEventListener('abort', abortHandler);\n    observer.observe(elem);\n  });\n}\n\nfunction useMouseTracking<T extends Element>({\n  onPositionChange,\n  onMouseEnter,\n  onMouseMove,\n  onMouseLeave,\n  ...rest\n}: Opts<T>) {\n  const elem = useRef<T>(null);\n  const controller = useRef<AbortController>(new AbortController());\n\n  const handlePositionChange = useCallback(\n    async (e: MouseEvent<T>) => {\n      if (!elem.current) {\n        onPositionChange(undefined);\n        return;\n      }\n\n      try {\n        const rect = await getBoundingRect(elem.current, {\n          signal: controller.current.signal,\n        });\n        onPositionChange({\n          height: rect.height,\n          left: Math.min(e.clientX - rect.left, rect.width),\n          top: Math.min(e.clientY - rect.top, rect.height),\n          width: rect.width,\n        });\n      } catch (err) {\n        if (err instanceof AbortError) {\n          // Ignore cancelled getBoundingRect calls\n          return;\n        }\n\n        Sentry.captureException(err);\n      }\n    },\n    [onPositionChange, controller]\n  );\n\n  const handleOnMouseLeave = useCallback(() => {\n    if (controller.current) {\n      controller.current.abort();\n      controller.current = new AbortController();\n    }\n\n    onPositionChange(undefined);\n  }, [onPositionChange, controller]);\n\n  return {\n    ref: elem,\n    ...rest,\n    onMouseEnter: (e: MouseEvent<T>) => {\n      handlePositionChange(e);\n      onMouseEnter?.(e);\n    },\n    onMouseMove: (e: MouseEvent<T>) => {\n      handlePositionChange(e);\n      onMouseMove?.(e);\n    },\n    onMouseLeave: (e: MouseEvent<T>) => {\n      handleOnMouseLeave();\n      onMouseLeave?.(e);\n    },\n  };\n}\n\nexport default useMouseTracking;\n","import {useCallback, useEffect, useMemo, useState} from 'react';\nimport * as Sentry from '@sentry/react';\nimport {inflate} from 'pako';\n\nimport type {ResponseMeta} from 'sentry/api';\nimport flattenListOfObjects from 'sentry/utils/replays/flattenListOfObjects';\nimport useReplayErrors from 'sentry/utils/replays/hooks/useReplayErrors';\nimport {mapResponseToReplayRecord} from 'sentry/utils/replays/replayDataUtils';\nimport ReplayReader from 'sentry/utils/replays/replayReader';\nimport RequestError from 'sentry/utils/requestError/requestError';\nimport useApi from 'sentry/utils/useApi';\nimport type {\n  RecordingEvent,\n  ReplayCrumb,\n  ReplayError,\n  ReplayRecord,\n  ReplaySegment,\n  ReplaySpan,\n} from 'sentry/views/replays/types';\n\ntype State = {\n  breadcrumbs: undefined | ReplayCrumb[];\n\n  /**\n   * List of errors that occurred during replay\n   */\n  errors: undefined | ReplayError[];\n\n  /**\n   * If any request returned an error then nothing is being returned\n   */\n  fetchError: undefined | RequestError;\n\n  /**\n   * If a fetch is underway for the requested root reply.\n   * This includes fetched all the sub-resources like attachments and `sentry-replay-event`\n   */\n  fetching: boolean;\n\n  /**\n   * Are errors currently being fetched\n   */\n  isErrorsFetching: boolean;\n\n  /**\n   * The root replay event\n   */\n  replayRecord: undefined | ReplayRecord;\n\n  /**\n   * The flattened list of rrweb events. These are stored as multiple attachments on the root replay object: the `event` prop.\n   */\n  rrwebEvents: undefined | RecordingEvent[];\n\n  spans: undefined | ReplaySpan[];\n};\n\ntype Options = {\n  /**\n   * The organization slug\n   */\n\n  orgSlug: string;\n  /**\n   * The projectSlug and replayId concatenated together\n   */\n  replaySlug: string;\n};\n\n// Errors if it is an interface\n// See https://github.com/microsoft/TypeScript/issues/15300\ntype ReplayAttachment = {\n  breadcrumbs: ReplayCrumb[];\n  recording: RecordingEvent[];\n  replaySpans: ReplaySpan[];\n};\n\ninterface Result extends Pick<State, 'fetchError' | 'fetching'> {\n  onRetry: () => void;\n  replay: ReplayReader | null;\n}\n\nexport function mapRRWebAttachments(unsortedReplayAttachments): ReplayAttachment {\n  const replayAttachments: ReplayAttachment = {\n    breadcrumbs: [],\n    replaySpans: [],\n    recording: [],\n  };\n\n  unsortedReplayAttachments.forEach(attachment => {\n    if (attachment.data?.tag === 'performanceSpan') {\n      replayAttachments.replaySpans.push(attachment.data.payload);\n    } else if (attachment?.data?.tag === 'breadcrumb') {\n      replayAttachments.breadcrumbs.push(attachment.data.payload);\n    } else {\n      replayAttachments.recording.push(attachment);\n    }\n  });\n\n  return replayAttachments;\n}\n\nconst INITIAL_STATE: State = Object.freeze({\n  breadcrumbs: undefined,\n  errors: undefined,\n  fetchError: undefined,\n  fetching: true,\n  isErrorsFetching: true,\n  replayRecord: undefined,\n  rrwebEvents: undefined,\n  spans: undefined,\n});\n\nasync function decompressSegmentData(\n  data: any,\n  _textStatus: string | undefined,\n  resp: ResponseMeta | undefined\n) {\n  // for non-compressed events, parse and return\n  try {\n    return mapRRWebAttachments(JSON.parse(data));\n  } catch (error) {\n    // swallow exception.. if we can't parse it, it's going to be compressed\n  }\n\n  // for non-compressed events, parse and return\n  try {\n    // for compressed events, inflate the blob and map the events\n    const responseBlob = await resp?.rawResponse.blob();\n    const responseArray = (await responseBlob?.arrayBuffer()) as Uint8Array;\n    const parsedPayload = JSON.parse(inflate(responseArray, {to: 'string'}));\n    return mapRRWebAttachments(parsedPayload);\n  } catch (error) {\n    return {};\n  }\n}\n\n/**\n * A react hook to load core replay data over the network.\n *\n * Core replay data includes:\n * 1. The root replay EventTransaction object\n *    - This includes `startTimestamp` and `tags` data\n * 2. Breadcrumb and Span data from all the related Event objects\n *    - Data is merged for consumption\n * 3. RRWeb payloads for the replayer video stream\n *    - TODO(replay): incrementally load the stream to speedup pageload\n *\n * This function should stay focused on loading data over the network.\n * Front-end processing, filtering and re-mixing of the different data streams\n * must be delegated to the `ReplayReader` class.\n *\n * @param {orgSlug, replaySlug} Where to find the root replay event\n * @returns An object representing a unified result of the network requests. Either a single `ReplayReader` data object or fetch errors.\n */\nfunction useReplayData({replaySlug, orgSlug}: Options): Result {\n  const [projectSlug, replayId] = replaySlug.split(':');\n\n  const api = useApi();\n  const [state, setState] = useState<State>(INITIAL_STATE);\n\n  // Fetch every field of the replay. We're overfetching, not every field is needed\n  const fetchReplay = useCallback(async () => {\n    const response = await api.requestPromise(\n      `/projects/${orgSlug}/${projectSlug}/replays/${replayId}/`\n    );\n    return response.data;\n  }, [api, orgSlug, projectSlug, replayId]);\n\n  const fetchSegmentList = useCallback(async () => {\n    const response = await api.requestPromise(\n      `/projects/${orgSlug}/${projectSlug}/replays/${replayId}/recording-segments/`\n    );\n    return response.data as ReplaySegment[];\n  }, [api, orgSlug, projectSlug, replayId]);\n\n  const fetchRRWebEvents = useCallback(\n    async (segmentIds: number[]) => {\n      const attachments = await Promise.all(\n        segmentIds.map(async segmentId => {\n          const response = await api.requestPromise(\n            `/projects/${orgSlug}/${projectSlug}/replays/${replayId}/recording-segments/${segmentId}/?download`,\n            {\n              includeAllArgs: true,\n            }\n          );\n\n          return decompressSegmentData(...response);\n        })\n      );\n\n      // ReplayAttachment[] => ReplayAttachment (merge each key of ReplayAttachment)\n      return flattenListOfObjects(attachments);\n    },\n    [api, replayId, orgSlug, projectSlug]\n  );\n\n  const {isLoading: isErrorsFetching, data: errors} = useReplayErrors({\n    replayId,\n  });\n\n  useEffect(() => {\n    if (!isErrorsFetching) {\n      setState(prevState => ({\n        ...prevState,\n        fetching: prevState.fetching || isErrorsFetching,\n        isErrorsFetching,\n        errors,\n      }));\n    }\n  }, [isErrorsFetching, errors]);\n\n  const loadEvents = useCallback(async () => {\n    setState(INITIAL_STATE);\n\n    try {\n      const [record, segments] = await Promise.all([fetchReplay(), fetchSegmentList()]);\n\n      // TODO(replays): Something like `range(record.countSegments)` could work\n      // once we make sure that segments have sequential id's and are not dropped.\n      const segmentIds = segments.map(segment => segment.segmentId);\n\n      const attachments = await fetchRRWebEvents(segmentIds);\n\n      setState(prev => ({\n        ...prev,\n        replayRecord: mapResponseToReplayRecord(record),\n        fetchError: undefined,\n        fetching: prev.isErrorsFetching || false,\n        rrwebEvents: attachments.recording,\n        spans: attachments.replaySpans,\n        breadcrumbs: attachments.breadcrumbs,\n      }));\n    } catch (error) {\n      Sentry.captureException(error);\n      setState({\n        ...INITIAL_STATE,\n        fetchError: error,\n        fetching: false,\n      });\n    }\n  }, [fetchReplay, fetchSegmentList, fetchRRWebEvents]);\n\n  useEffect(() => {\n    loadEvents();\n  }, [loadEvents]);\n\n  const replay = useMemo(() => {\n    return ReplayReader.factory({\n      replayRecord: state.replayRecord,\n      errors: state.errors,\n      rrwebEvents: state.rrwebEvents,\n      breadcrumbs: state.breadcrumbs,\n      spans: state.spans,\n    });\n  }, [\n    state.replayRecord,\n    state.rrwebEvents,\n    state.breadcrumbs,\n    state.spans,\n    state.errors,\n  ]);\n\n  return {\n    fetchError: state.fetchError,\n    fetching: state.fetching,\n    onRetry: loadEvents,\n    replay,\n  };\n}\n\nexport default useReplayData;\n","import {useMemo} from 'react';\n\nimport useDiscoverQuery from 'sentry/utils/replays/hooks/useDiscoveryQuery';\nimport {ReplayError} from 'sentry/views/replays/types';\n\ninterface Params {\n  replayId: string;\n  ignoreCursor?: boolean;\n}\n\n/**\n * Fetches a list of errors that occurred in a replay\n */\nexport default function useReplayErrors({replayId, ...props}: Params) {\n  const discoverQuery = useMemo(\n    () => ({\n      query: `replayId:${replayId} AND event.type:error`,\n      fields: ['event.id', 'error.value', 'timestamp', 'error.type', 'issue.id'],\n\n      // environment and project shouldn't matter because having a replayId\n      // assumes we have already filtered down to proper env/project\n      environment: [],\n      projects: [],\n    }),\n    [replayId]\n  );\n\n  return useDiscoverQuery<ReplayError>({discoverQuery, ...props});\n}\n","import type {Crumb} from 'sentry/types/breadcrumbs';\nimport {\n  breadcrumbFactory,\n  replayTimestamps,\n  rrwebEventListFactory,\n  spansFactory,\n} from 'sentry/utils/replays/replayDataUtils';\nimport type {\n  MemorySpanType,\n  RecordingEvent,\n  ReplayCrumb,\n  ReplayError,\n  ReplayRecord,\n  ReplaySpan,\n} from 'sentry/views/replays/types';\n\ninterface ReplayReaderParams {\n  breadcrumbs: ReplayCrumb[] | undefined;\n  errors: ReplayError[] | undefined;\n\n  /**\n   * The root Replay event, created at the start of the browser session.\n   */\n  replayRecord: ReplayRecord | undefined;\n\n  /**\n   * The captured data from rrweb.\n   * Saved as N attachments that belong to the root Replay event.\n   */\n  rrwebEvents: RecordingEvent[] | undefined;\n\n  spans: ReplaySpan[] | undefined;\n}\n\ntype RequiredNotNull<T> = {\n  [P in keyof T]: NonNullable<T[P]>;\n};\n\nexport default class ReplayReader {\n  static factory({\n    breadcrumbs,\n    replayRecord,\n    errors,\n    rrwebEvents,\n    spans,\n  }: ReplayReaderParams) {\n    if (!breadcrumbs || !replayRecord || !rrwebEvents || !spans || !errors) {\n      return null;\n    }\n\n    return new ReplayReader({breadcrumbs, replayRecord, errors, rrwebEvents, spans});\n  }\n\n  private constructor({\n    breadcrumbs,\n    replayRecord,\n    errors,\n    rrwebEvents,\n    spans,\n  }: RequiredNotNull<ReplayReaderParams>) {\n    // TODO(replays): We should get correct timestamps from the backend instead\n    // of having to fix them up here.\n    const {startTimestampMs, endTimestampMs} = replayTimestamps(\n      rrwebEvents,\n      breadcrumbs,\n      spans\n    );\n    replayRecord.startedAt = new Date(startTimestampMs);\n    replayRecord.finishedAt = new Date(endTimestampMs);\n\n    this.spans = spansFactory(spans);\n    this.breadcrumbs = breadcrumbFactory(replayRecord, errors, breadcrumbs, this.spans);\n\n    this.rrwebEvents = rrwebEventListFactory(replayRecord, rrwebEvents);\n\n    this.replayRecord = replayRecord;\n  }\n\n  private replayRecord: ReplayRecord;\n  private rrwebEvents: RecordingEvent[];\n  private breadcrumbs: Crumb[];\n  private spans: ReplaySpan[];\n\n  /**\n   * @returns Duration of Replay (milliseonds)\n   */\n  getDurationMs = () => {\n    return this.replayRecord.duration * 1000;\n  };\n\n  getReplay = () => {\n    return this.replayRecord;\n  };\n\n  getRRWebEvents = () => {\n    return this.rrwebEvents;\n  };\n\n  getRawCrumbs = () => {\n    return this.breadcrumbs;\n  };\n\n  getRawSpans = () => {\n    return this.spans;\n  };\n\n  isMemorySpan = (span: ReplaySpan): span is MemorySpanType => {\n    return span.op === 'memory';\n  };\n\n  isNetworkSpan = (span: ReplaySpan) => {\n    return !this.isMemorySpan(span) && !span.op.includes('paint');\n  };\n}\n","import styled from '@emotion/styled';\n\nconst FluidHeight = styled('div')`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  flex-grow: 1;\n  overflow: hidden;\n`;\n\nexport default FluidHeight;\n"],"names":["IconClock","t","space","BufferingOverlay","className","Overlay","Message","p","theme","gray300","borderRadius","white","zIndex","initial","Tooltip","IconArrow","FastForwardBadge","speed","Badge","FastForwardTooltip","RangeSlider","SliderAndInputWrapper","Progress","useReplayContext","divide","Scrubber","currentHoverTime","currentTime","replay","setCurrentTime","durationMs","getDurationMs","percentComplete","hoverPlace","Math","round","value","Meter","gray200","RangeWrapper","Range","PlaybackTimeValue","Value","MouseTrackingValue","Wrapper","TimelineScrubber","purple100","purple300","PlayerScrubber","borderRadiusBottom","purple200","useCallback","useMouseTracking","ScrubberMouseTracking","children","setCurrentHoverTime","handlePositionChange","params","undefined","left","width","percent","time","mouseTrackingProps","onPositionChange","React","useLayoutEffect","useRef","useState","useResizeObserver","Button","ButtonBar","CompositeSelect","formatTime","relativeTimeInMs","IconContract","IconExpand","IconNext","IconPause","IconPlay","IconPrevious","IconRewind10","IconSettings","BreadcrumbType","getNextBreadcrumb","useFullscreen","SECOND","USER_ACTIONS","ERROR","INIT","NAVIGATION","UI","USER","ReplayPlayPauseBar","isCompact","isFinished","isPlaying","restart","togglePlayPause","startTimestampMs","getReplay","startedAt","getTime","transformedCrumbs","getRawCrumbs","next","crumbs","filter","crumb","includes","type","targetTimestampMs","timestamp","ReplayCurrentTime","ReplayOptionsMenu","speedOptions","setSpeed","isSkippingInactive","toggleSkipInactive","SKIP_OPTION_VALUE","props","ref","defaultValue","label","onChange","options","map","option","multiple","length","ReplayControls","toggleFullscreen","barRef","compactLevel","setCompactLevel","isFullscreen","updateCompactLevel","current","getBoundingClientRect","onResize","ButtonGrid","TextCopyInput","getCurrentUrl","ReplayCurrentUrl","replayRecord","UrlCopyInput","fontSizeMedium","useEffect","BasePlayerRoot","initRoot","dimensions","videoDimensions","fastForwardSpeed","isBuffering","windowEl","viewEl","windowDimensions","setWindowDimensions","height","updateWindowDimensions","clientWidth","clientHeight","window","ResizeObserver","scale","min","style","transform","SizingWindow","backgroundSecondary","gray100","PositionedFastForward","PositionedBuffering","PlayerRoot","SentryPlayerRoot","Fragment","ReplayController","ReplayPlayer","FluidHeight","ReplayView","showAddressBar","PlayerContainer","Panel","background","borderRadiusTop","border","dropShadowLight","flattenListOfObjects","objs","reduce","acc","obj","Object","entries","forEach","key","Array","isArray","Error","concat","getPrevBreadcrumb","allowExact","prev","crumbTimestampMS","Date","found","last","currentOffsetMS","currentTimeMs","floor","navigationCrumbs","initialUrl","tags","url","origin","URL","mostRecentNavigation","data","to","String","EventView","useApi","useOrganization","INITIAL_STATE","isLoading","error","pageLinks","FAKE_LOCATION","query","useDiscoverQuery","endpoint","discoverQuery","ignoreCursor","state","setState","api","organization","runQuery","slug","eventView","fromNewQueryWithLocation","environment","projects","id","name","version","getEventsAPIPayload","prevState","clear","resp","requestPromise","includeAllArgs","getResponseHeader","screenfull","setIsFullscreen","enter","opts","navigationUI","isEnabled","request","exit","toggle","on","off","Sentry","AbortError","getBoundingRect","elem","signal","Promise","resolve","reject","aborted","abortHandler","observer","IntersectionObserver","entry","bounds","boundingClientRect","removeEventListener","disconnect","addEventListener","observe","onMouseEnter","onMouseMove","onMouseLeave","rest","controller","AbortController","e","rect","clientX","top","clientY","err","captureException","handleOnMouseLeave","abort","useMemo","inflate","useReplayErrors","mapResponseToReplayRecord","ReplayReader","mapRRWebAttachments","unsortedReplayAttachments","replayAttachments","breadcrumbs","replaySpans","recording","attachment","tag","push","payload","freeze","errors","fetchError","fetching","isErrorsFetching","rrwebEvents","spans","decompressSegmentData","_textStatus","JSON","parse","responseBlob","rawResponse","blob","responseArray","arrayBuffer","parsedPayload","useReplayData","replaySlug","orgSlug","projectSlug","replayId","split","fetchReplay","response","fetchSegmentList","fetchRRWebEvents","segmentIds","attachments","all","segmentId","loadEvents","record","segments","segment","factory","onRetry","fields","breadcrumbFactory","replayTimestamps","rrwebEventListFactory","spansFactory","constructor","duration","span","op","isMemorySpan","endTimestampMs","finishedAt"],"sourceRoot":""}