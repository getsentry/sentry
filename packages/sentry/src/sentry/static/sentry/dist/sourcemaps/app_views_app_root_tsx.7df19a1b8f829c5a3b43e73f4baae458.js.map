{"version":3,"file":"chunks/app_views_app_root_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASM,OAAT,GAAmB;EACjB,MAAMC,MAAM,GAAGH,4EAAc,CAACD,iEAAD,CAA7B;EAEAH,gDAAS,CAAC,MAAM;IACd,IAAI,CAACO,MAAM,CAACC,gBAAZ,EAA8B;MAC5B;IACD;;IAED,MAAMC,OAAO,GAAGF,MAAM,CAACC,gBAAvB;IACA,MAAME,GAAG,GAAGL,4EAAmB,CAACH,+DAAD,EAAoB;MAACO;IAAD,CAApB,CAA/B;IAEAR,gEAAA,CAAuBS,GAAvB;EACD,CATQ,EASN,CAACH,MAAD,CATM,CAAT;EAWA,OAAO,IAAP;AACD;;AAED,iEAAeD,OAAf","sources":["webpack:///./app/views/app/root.tsx"],"sourcesContent":["import {useEffect} from 'react';\nimport {browserHistory} from 'react-router';\n\nimport {DEFAULT_APP_ROUTE} from 'sentry/constants';\nimport ConfigStore from 'sentry/stores/configStore';\nimport {useLegacyStore} from 'sentry/stores/useLegacyStore';\nimport replaceRouterParams from 'sentry/utils/replaceRouterParams';\n\n/**\n * This view is used when a user lands on the route `/` which historically\n * is a server-rendered route which redirects the user to their last selected organization\n *\n * However, this does not work when in the experimental SPA mode (e.g. developing against a remote API,\n * or a deploy preview), so we must replicate the functionality and redirect\n * the user to the proper organization.\n *\n * TODO: There might be an edge case where user does not have `lastOrganization` set,\n * in which case we should load their list of organizations and make a decision\n */\nfunction AppRoot() {\n  const config = useLegacyStore(ConfigStore);\n\n  useEffect(() => {\n    if (!config.lastOrganization) {\n      return;\n    }\n\n    const orgSlug = config.lastOrganization;\n    const url = replaceRouterParams(DEFAULT_APP_ROUTE, {orgSlug});\n\n    browserHistory.replace(url);\n  }, [config]);\n\n  return null;\n}\n\nexport default AppRoot;\n"],"names":["useEffect","browserHistory","DEFAULT_APP_ROUTE","ConfigStore","useLegacyStore","replaceRouterParams","AppRoot","config","lastOrganization","orgSlug","url","replace"],"sourceRoot":""}