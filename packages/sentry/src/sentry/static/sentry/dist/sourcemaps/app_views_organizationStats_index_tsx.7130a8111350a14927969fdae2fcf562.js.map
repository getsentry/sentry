{"version":3,"file":"chunks/app_views_organizationStats_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/charts/errorPanel.tsx","webpack:///./app/components/charts/optionSelector.tsx","webpack:///./app/components/gridEditable/sortLink.tsx","webpack:///./app/components/notAvailable.tsx","webpack:///./app/components/scoreCard.tsx","webpack:///./app/views/organizationStats/index.tsx","webpack:///./app/views/organizationStats/types.tsx","webpack:///./app/views/organizationStats/usageChart/index.tsx","webpack:///./app/views/organizationStats/usageChart/utils.tsx","webpack:///./app/views/organizationStats/usageStatsOrg.tsx","webpack:///./app/views/organizationStats/usageStatsPerMin.tsx","webpack:///./app/views/organizationStats/usageStatsProjects.tsx","webpack:///./app/views/organizationStats/usageTable/index.tsx","webpack:///./app/views/organizationStats/utils.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nconst ErrorPanel = styled('div')<{height?: string}>`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  flex: 1;\n  flex-shrink: 0;\n  overflow: hidden;\n  height: ${p => p.height || '200px'};\n  position: relative;\n  border-color: transparent;\n  margin-bottom: 0;\n  color: ${p => p.theme.gray300};\n  font-size: ${p => p.theme.fontSizeExtraLarge};\n`;\n\nexport default ErrorPanel;\n","import {Fragment, useMemo} from 'react';\nimport styled from '@emotion/styled';\n\nimport FeatureBadge from 'sentry/components/featureBadge';\nimport CompactSelect from 'sentry/components/forms/compactSelect';\nimport Truncate from 'sentry/components/truncate';\nimport {SelectValue} from 'sentry/types';\nimport {defined} from 'sentry/utils';\n\ntype BaseProps = React.ComponentProps<typeof CompactSelect> & {\n  options: SelectValue<string>[];\n  title: string;\n  featureType?: 'alpha' | 'beta' | 'new';\n};\n\ntype SingleProps = BaseProps & {\n  onChange: (value: string) => void;\n  selected: string;\n  multiple?: false;\n};\ntype MultipleProps = BaseProps & {\n  multiple: true;\n  onChange: (value: string[]) => void;\n  selected: string[];\n};\n\nfunction OptionSelector({\n  options,\n  onChange,\n  selected,\n  title,\n  featureType,\n  multiple,\n  ...rest\n}: SingleProps | MultipleProps) {\n  const mappedOptions = useMemo(() => {\n    return options.map(opt => ({\n      ...opt,\n      label: <Truncate value={String(opt.label)} maxLength={60} expandDirection=\"left\" />,\n    }));\n  }, [options]);\n\n  function onValueChange(option) {\n    onChange(multiple ? option.map(o => o.value) : option.value);\n  }\n\n  function isOptionDisabled(option) {\n    return (\n      // Option is explicitly marked as disabled\n      option.disabled ||\n      // The user has reached the maximum number of selections (3), and the option hasn't\n      // yet been selected. These options should be disabled to visually indicate that the\n      // user has reached the max.\n      (multiple && selected.length === 3 && !selected.includes(option.value))\n    );\n  }\n\n  return (\n    <CompactSelect\n      size=\"sm\"\n      options={mappedOptions}\n      value={selected}\n      onChange={onValueChange}\n      isOptionDisabled={isOptionDisabled}\n      multiple={multiple}\n      triggerProps={{\n        borderless: true,\n        prefix: (\n          <Fragment>\n            {title}\n            {defined(featureType) ? <StyledFeatureBadge type={featureType} /> : null}\n          </Fragment>\n        ),\n      }}\n      placement=\"bottom right\"\n      {...rest}\n    />\n  );\n}\n\nconst StyledFeatureBadge = styled(FeatureBadge)`\n  margin-left: 0px;\n`;\n\nexport default OptionSelector;\n","import styled from '@emotion/styled';\nimport {LocationDescriptorObject} from 'history';\nimport omit from 'lodash/omit';\n\nimport Link from 'sentry/components/links/link';\nimport {IconArrow} from 'sentry/icons';\n\nexport type Alignments = 'left' | 'right' | undefined;\nexport type Directions = 'desc' | 'asc' | undefined;\n\ntype Props = {\n  align: Alignments;\n  canSort: boolean;\n  direction: Directions;\n  generateSortLink: () => LocationDescriptorObject | undefined;\n\n  title: React.ReactNode;\n  onClick?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n};\n\nfunction SortLink({align, title, canSort, generateSortLink, onClick, direction}: Props) {\n  const target = generateSortLink();\n\n  if (!target || !canSort) {\n    return <StyledNonLink align={align}>{title}</StyledNonLink>;\n  }\n\n  const arrow = !direction ? null : (\n    <StyledIconArrow size=\"xs\" direction={direction === 'desc' ? 'down' : 'up'} />\n  );\n\n  return (\n    <StyledLink align={align} to={target} onClick={onClick}>\n      {title} {arrow}\n    </StyledLink>\n  );\n}\n\ntype LinkProps = React.ComponentPropsWithoutRef<typeof Link>;\ntype StyledLinkProps = LinkProps & {align: Alignments};\n\nconst StyledLink = styled((props: StyledLinkProps) => {\n  const forwardProps = omit(props, ['align']);\n  return <Link {...forwardProps} />;\n})`\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  color: inherit;\n\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n\n  ${(p: StyledLinkProps) => (p.align ? `text-align: ${p.align};` : '')}\n`;\n\nconst StyledNonLink = styled('div')<{align: Alignments}>`\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  ${(p: {align: Alignments}) => (p.align ? `text-align: ${p.align};` : '')}\n`;\n\nconst StyledIconArrow = styled(IconArrow)`\n  vertical-align: top;\n`;\n\nexport default SortLink;\n","import styled from '@emotion/styled';\n\nimport Tooltip from 'sentry/components/tooltip';\n\ntype Props = {\n  className?: string;\n  tooltip?: React.ReactNode;\n};\n\nfunction NotAvailable({tooltip, className}: Props) {\n  return (\n    <Tooltip title={tooltip} skipWrapper disabled={tooltip === undefined}>\n      <Wrapper className={className}>{'\\u2014'}</Wrapper>\n    </Tooltip>\n  );\n}\n\nconst Wrapper = styled('div')`\n  color: ${p => p.theme.gray200};\n`;\n\nexport default NotAvailable;\n","import styled from '@emotion/styled';\n\nimport {Panel} from 'sentry/components/panels';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport TextOverflow from 'sentry/components/textOverflow';\nimport space from 'sentry/styles/space';\nimport {defined} from 'sentry/utils';\nimport {Theme} from 'sentry/utils/theme';\n\ntype Props = {\n  title: React.ReactNode;\n  className?: string;\n  help?: React.ReactNode;\n  score?: React.ReactNode;\n  trend?: React.ReactNode;\n  trendStatus?: 'good' | 'bad';\n};\n\nfunction ScoreCard({title, score, help, trend, trendStatus, className}: Props) {\n  return (\n    <ScorePanel className={className}>\n      <HeaderTitle>\n        <Title>{title}</Title>\n        {help && <QuestionTooltip title={help} size=\"sm\" position=\"top\" />}\n      </HeaderTitle>\n\n      <ScoreWrapper>\n        <Score>{score ?? '\\u2014'}</Score>\n        {defined(trend) && (\n          <Trend trendStatus={trendStatus}>\n            <TextOverflow>{trend}</TextOverflow>\n          </Trend>\n        )}\n      </ScoreWrapper>\n    </ScorePanel>\n  );\n}\n\nfunction getTrendColor(p: TrendProps & {theme: Theme}) {\n  switch (p.trendStatus) {\n    case 'good':\n      return p.theme.green300;\n    case 'bad':\n      return p.theme.red300;\n    default:\n      return p.theme.gray300;\n  }\n}\n\nexport const ScorePanel = styled(Panel)`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: ${space(2)} ${space(3)};\n  min-height: 96px;\n`;\n\nexport const HeaderTitle = styled('div')`\n  display: inline-grid;\n  grid-auto-flow: column;\n  gap: ${space(1)};\n  align-items: center;\n  width: fit-content;\n`;\n\nexport const Title = styled('div')`\n  font-size: ${p => p.theme.fontSizeLarge};\n  color: ${p => p.theme.headingColor};\n  ${p => p.theme.overflowEllipsis};\n  font-weight: 600;\n`;\n\nexport const ScoreWrapper = styled('div')`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  max-width: 100%;\n`;\n\nexport const Score = styled('span')`\n  flex-shrink: 1;\n  font-size: 32px;\n  line-height: 1;\n  color: ${p => p.theme.headingColor};\n  white-space: nowrap;\n`;\n\ntype TrendProps = {trendStatus: Props['trendStatus']};\n\nexport const Trend = styled('div')<TrendProps>`\n  color: ${getTrendColor};\n  margin-left: ${space(1)};\n  line-height: 1;\n  overflow: hidden;\n`;\n\nexport default ScoreCard;\n","import {Component, Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport {LocationDescriptorObject} from 'history';\nimport omit from 'lodash/omit';\nimport pick from 'lodash/pick';\nimport moment from 'moment';\n\nimport {navigateTo} from 'sentry/actionCreators/navigation';\nimport Feature from 'sentry/components/acl/feature';\nimport Alert from 'sentry/components/alert';\nimport {DateTimeObject} from 'sentry/components/charts/utils';\nimport ErrorBoundary from 'sentry/components/errorBoundary';\nimport CompactSelect from 'sentry/components/forms/compactSelect';\nimport HookOrDefault from 'sentry/components/hookOrDefault';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {ChangeData} from 'sentry/components/organizations/timeRangeSelector';\nimport PageHeading from 'sentry/components/pageHeading';\nimport PageTimeRangeSelector from 'sentry/components/pageTimeRangeSelector';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\nimport {\n  DATA_CATEGORY_NAMES,\n  DEFAULT_RELATIVE_PERIODS,\n  DEFAULT_STATS_PERIOD,\n} from 'sentry/constants';\nimport {t, tct} from 'sentry/locale';\nimport {PageHeader} from 'sentry/styles/organization';\nimport space from 'sentry/styles/space';\nimport {DataCategory, DateString, Organization, Project} from 'sentry/types';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport HeaderTabs from 'sentry/views/organizationStats/header';\n\nimport {CHART_OPTIONS_DATACATEGORY, ChartDataTransform} from './usageChart';\nimport UsageStatsOrg from './usageStatsOrg';\nimport UsageStatsProjects from './usageStatsProjects';\n\nconst HookHeader = HookOrDefault({hookName: 'component:org-stats-banner'});\n\nconst PAGE_QUERY_PARAMS = [\n  'pageStatsPeriod',\n  'pageStart',\n  'pageEnd',\n  'pageUtc',\n  'dataCategory',\n  'transform',\n  'sort',\n  'query',\n  'cursor',\n];\n\ntype Props = {\n  organization: Organization;\n} & RouteComponentProps<{orgId: string}, {}>;\n\nexport class OrganizationStats extends Component<Props> {\n  get dataCategory(): DataCategory {\n    const dataCategory = this.props.location?.query?.dataCategory;\n\n    switch (dataCategory) {\n      case DataCategory.ERRORS:\n      case DataCategory.TRANSACTIONS:\n      case DataCategory.ATTACHMENTS:\n        return dataCategory as DataCategory;\n      default:\n        return DataCategory.ERRORS;\n    }\n  }\n\n  get dataCategoryName(): string {\n    const dataCategory = this.dataCategory;\n    return DATA_CATEGORY_NAMES[dataCategory] ?? t('Unknown Data Category');\n  }\n\n  get dataDatetime(): DateTimeObject {\n    const query = this.props.location?.query ?? {};\n\n    const {\n      start,\n      end,\n      statsPeriod,\n      utc: utcString,\n    } = normalizeDateTimeParams(query, {\n      allowEmptyPeriod: true,\n      allowAbsoluteDatetime: true,\n      allowAbsolutePageDatetime: true,\n    });\n\n    if (!statsPeriod && !start && !end) {\n      return {period: DEFAULT_STATS_PERIOD};\n    }\n\n    // Following getParams, statsPeriod will take priority over start/end\n    if (statsPeriod) {\n      return {period: statsPeriod};\n    }\n\n    const utc = utcString === 'true';\n    if (start && end) {\n      return utc\n        ? {\n            start: moment.utc(start).format(),\n            end: moment.utc(end).format(),\n            utc,\n          }\n        : {\n            start: moment(start).utc().format(),\n            end: moment(end).utc().format(),\n            utc,\n          };\n    }\n\n    return {period: DEFAULT_STATS_PERIOD};\n  }\n\n  // Validation and type-casting should be handled by chart\n  get chartTransform(): string | undefined {\n    return this.props.location?.query?.transform;\n  }\n\n  // Validation and type-casting should be handled by table\n  get tableSort(): string | undefined {\n    return this.props.location?.query?.sort;\n  }\n\n  get tableQuery(): string | undefined {\n    return this.props.location?.query?.query;\n  }\n\n  get tableCursor(): string | undefined {\n    return this.props.location?.query?.cursor;\n  }\n\n  getNextLocations = (project: Project): Record<string, LocationDescriptorObject> => {\n    const {location, organization} = this.props;\n    const nextLocation: LocationDescriptorObject = {\n      ...location,\n      query: {\n        ...location.query,\n        project: project.id,\n      },\n    };\n\n    // Do not leak out page-specific keys\n    nextLocation.query = omit(nextLocation.query, PAGE_QUERY_PARAMS);\n\n    return {\n      performance: {\n        ...nextLocation,\n        pathname: `/organizations/${organization.slug}/performance/`,\n      },\n      projectDetail: {\n        ...nextLocation,\n        pathname: `/organizations/${organization.slug}/projects/${project.slug}/`,\n      },\n      issueList: {\n        ...nextLocation,\n        pathname: `/organizations/${organization.slug}/issues/`,\n      },\n      settings: {\n        pathname: `/settings/${organization.slug}/projects/${project.slug}/`,\n      },\n    };\n  };\n\n  handleUpdateDatetime = (datetime: ChangeData): LocationDescriptorObject => {\n    const {start, end, relative, utc} = datetime;\n\n    if (start && end) {\n      const parser = utc ? moment.utc : moment;\n\n      return this.setStateOnUrl({\n        pageStatsPeriod: undefined,\n        pageStart: parser(start).format(),\n        pageEnd: parser(end).format(),\n        pageUtc: utc ?? undefined,\n      });\n    }\n\n    return this.setStateOnUrl({\n      pageStatsPeriod: relative || undefined,\n      pageStart: undefined,\n      pageEnd: undefined,\n      pageUtc: undefined,\n    });\n  };\n\n  navigateToSamplingSettings = (e: React.MouseEvent) => {\n    e.preventDefault?.();\n\n    const {organization, router} = this.props;\n\n    navigateTo(\n      `/settings/${organization.slug}/projects/:projectId/server-side-sampling/?referrer=org-stats.alert`,\n      router\n    );\n  };\n\n  /**\n   * TODO: Enable user to set dateStart/dateEnd\n   *\n   * See PAGE_QUERY_PARAMS for list of accepted keys on nextState\n   */\n  setStateOnUrl = (\n    nextState: {\n      cursor?: string;\n      dataCategory?: DataCategory;\n      pageEnd?: DateString;\n      pageStart?: DateString;\n      pageStatsPeriod?: string | null;\n      pageUtc?: boolean | null;\n      query?: string;\n      sort?: string;\n      transform?: ChartDataTransform;\n    },\n    options: {\n      willUpdateRouter?: boolean;\n    } = {\n      willUpdateRouter: true,\n    }\n  ): LocationDescriptorObject => {\n    const {location, router} = this.props;\n    const nextQueryParams = pick(nextState, PAGE_QUERY_PARAMS);\n\n    const nextLocation = {\n      ...location,\n      query: {\n        ...location?.query,\n        ...nextQueryParams,\n      },\n    };\n\n    if (options.willUpdateRouter) {\n      router.push(nextLocation);\n    }\n\n    return nextLocation;\n  };\n\n  renderPageControl = () => {\n    const {organization} = this.props;\n\n    const {start, end, period, utc} = this.dataDatetime;\n\n    return (\n      <Fragment>\n        <DropdownDataCategory\n          triggerProps={{prefix: t('Category')}}\n          value={this.dataCategory}\n          options={CHART_OPTIONS_DATACATEGORY}\n          onChange={opt => this.setStateOnUrl({dataCategory: opt.value as DataCategory})}\n        />\n\n        <StyledPageTimeRangeSelector\n          organization={organization}\n          relative={period ?? ''}\n          start={start ?? null}\n          end={end ?? null}\n          utc={utc ?? null}\n          onUpdate={this.handleUpdateDatetime}\n          relativeOptions={omit(DEFAULT_RELATIVE_PERIODS, ['1h'])}\n        />\n      </Fragment>\n    );\n  };\n\n  render() {\n    const {organization} = this.props;\n    const hasTeamInsights = organization.features.includes('team-insights');\n\n    return (\n      <SentryDocumentTitle title=\"Usage Stats\">\n        <Fragment>\n          {hasTeamInsights && (\n            <HeaderTabs organization={organization} activeTab=\"stats\" />\n          )}\n          <Body>\n            <Layout.Main fullWidth>\n              {!hasTeamInsights && (\n                <Fragment>\n                  <PageHeader>\n                    <PageHeading>{t('Organization Usage Stats')}</PageHeading>\n                  </PageHeader>\n                  <p>\n                    {t(\n                      'We collect usage metrics on three categories: errors, transactions, and attachments. The charts below reflect data that Sentry has received across your entire organization. You can also find them broken down by project in the table.'\n                    )}\n                  </p>\n                </Fragment>\n              )}\n              <HookHeader organization={organization} />\n\n              <PageGrid>\n                {this.renderPageControl()}\n\n                <ErrorBoundary mini>\n                  <UsageStatsOrg\n                    organization={organization}\n                    dataCategory={this.dataCategory}\n                    dataCategoryName={this.dataCategoryName}\n                    dataDatetime={this.dataDatetime}\n                    chartTransform={this.chartTransform}\n                    handleChangeState={this.setStateOnUrl}\n                  />\n                </ErrorBoundary>\n              </PageGrid>\n\n              <Feature\n                features={['server-side-sampling', 'server-side-sampling-ui']}\n                organization={organization}\n              >\n                {this.dataCategory === DataCategory.TRANSACTIONS && (\n                  <Alert type=\"info\" showIcon>\n                    {tct(\n                      'Manage your transaction usage in Server-Side Sampling. Go to [link: Server-Side Sampling Settings].',\n                      {\n                        link: <a href=\"#\" onClick={this.navigateToSamplingSettings} />,\n                      }\n                    )}\n                  </Alert>\n                )}\n              </Feature>\n\n              <ErrorBoundary mini>\n                <UsageStatsProjects\n                  organization={organization}\n                  dataCategory={this.dataCategory}\n                  dataCategoryName={this.dataCategoryName}\n                  dataDatetime={this.dataDatetime}\n                  tableSort={this.tableSort}\n                  tableQuery={this.tableQuery}\n                  tableCursor={this.tableCursor}\n                  handleChangeState={this.setStateOnUrl}\n                  getNextLocations={this.getNextLocations}\n                />\n              </ErrorBoundary>\n            </Layout.Main>\n          </Body>\n        </Fragment>\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nexport default withOrganization(OrganizationStats);\n\nconst PageGrid = styled('div')`\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: ${space(2)};\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  @media (min-width: ${p => p.theme.breakpoints.large}) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n`;\n\nconst DropdownDataCategory = styled(CompactSelect)`\n  grid-column: auto / span 1;\n\n  button[aria-haspopup='listbox'] {\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    grid-column: auto / span 2;\n  }\n  @media (min-width: ${p => p.theme.breakpoints.large}) {\n    grid-column: auto / span 1;\n  }\n`;\n\nconst StyledPageTimeRangeSelector = styled(PageTimeRangeSelector)`\n  grid-column: auto / span 1;\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    grid-column: auto / span 2;\n  }\n  @media (min-width: ${p => p.theme.breakpoints.large}) {\n    grid-column: auto / span 3;\n  }\n`;\n\nconst Body = styled(Layout.Body)`\n  @media (min-width: ${p => p.theme.breakpoints.medium}) {\n    display: block;\n  }\n`;\n","import {SeriesApi} from 'sentry/types';\n\nexport enum Outcome {\n  ACCEPTED = 'accepted',\n  FILTERED = 'filtered',\n  INVALID = 'invalid',\n  DROPPED = 'dropped', // this is not a real outcome coming from the server\n  RATE_LIMITED = 'rate_limited',\n  CLIENT_DISCARD = 'client_discard',\n}\n\n/**\n * Raw response from API endpoint\n */\nexport interface UsageSeries extends SeriesApi {\n  // index signature is present because we often send this\n  // data to sentry as part of the event context.\n  end: string;\n  start: string;\n}\n\nexport type UsageStat = {\n  accepted: number;\n  date: string;\n  dropped: {\n    total: number;\n    other?: number;\n  };\n  filtered: number;\n  total: number;\n};\n","import {Component, Fragment} from 'react';\nimport {withTheme} from '@emotion/react';\nimport styled from '@emotion/styled';\nimport Color from 'color';\nimport type {SeriesOption, TooltipComponentOption} from 'echarts';\n\nimport BaseChart from 'sentry/components/charts/baseChart';\nimport Legend from 'sentry/components/charts/components/legend';\nimport xAxis from 'sentry/components/charts/components/xAxis';\nimport barSeries from 'sentry/components/charts/series/barSeries';\nimport {ChartContainer, HeaderTitleLegend} from 'sentry/components/charts/styles';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport Panel from 'sentry/components/panels/panel';\nimport Placeholder from 'sentry/components/placeholder';\nimport {DATA_CATEGORY_NAMES} from 'sentry/constants';\nimport {IconWarning} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {DataCategory, IntervalPeriod, SelectValue} from 'sentry/types';\nimport {parsePeriodToHours, statsPeriodToDays} from 'sentry/utils/dates';\nimport getDynamicText from 'sentry/utils/getDynamicText';\nimport commonTheme, {Theme} from 'sentry/utils/theme';\n\nimport {formatUsageWithUnits, GIGABYTE} from '../utils';\n\nimport {getTooltipFormatter, getXAxisDates, getXAxisLabelInterval} from './utils';\n\ntype ChartProps = React.ComponentProps<typeof BaseChart>;\n\nconst COLOR_ERRORS = Color(commonTheme.dataCategory.errors).lighten(0.25).string();\nconst COLOR_TRANSACTIONS = Color(commonTheme.dataCategory.transactions)\n  .lighten(0.35)\n  .string();\nconst COLOR_ATTACHMENTS = Color(commonTheme.dataCategory.attachments)\n  .lighten(0.65)\n  .string();\n\nconst COLOR_DROPPED = commonTheme.red300;\nconst COLOR_FILTERED = commonTheme.pink100;\n\nexport type CategoryOption = {\n  /**\n   * Scale of y-axis with no usage data.\n   */\n  yAxisMinInterval: number;\n} & SelectValue<DataCategory>;\n\nexport const CHART_OPTIONS_DATACATEGORY: CategoryOption[] = [\n  {\n    label: DATA_CATEGORY_NAMES[DataCategory.ERRORS],\n    value: DataCategory.ERRORS,\n    disabled: false,\n    yAxisMinInterval: 100,\n  },\n  {\n    label: DATA_CATEGORY_NAMES[DataCategory.TRANSACTIONS],\n    value: DataCategory.TRANSACTIONS,\n    disabled: false,\n    yAxisMinInterval: 100,\n  },\n  {\n    label: DATA_CATEGORY_NAMES[DataCategory.ATTACHMENTS],\n    value: DataCategory.ATTACHMENTS,\n    disabled: false,\n    yAxisMinInterval: 0.5 * GIGABYTE,\n  },\n];\n\nexport enum ChartDataTransform {\n  CUMULATIVE = 'cumulative',\n  PERIODIC = 'periodic',\n}\n\nexport const CHART_OPTIONS_DATA_TRANSFORM: SelectValue<ChartDataTransform>[] = [\n  {\n    label: t('Cumulative'),\n    value: ChartDataTransform.CUMULATIVE,\n    disabled: false,\n  },\n  {\n    label: t('Periodic'),\n    value: ChartDataTransform.PERIODIC,\n    disabled: false,\n  },\n];\n\nexport enum SeriesTypes {\n  ACCEPTED = 'Accepted',\n  DROPPED = 'Dropped',\n  PROJECTED = 'Projected',\n  FILTERED = 'Filtered',\n}\n\ntype DefaultProps = {\n  /**\n   * Config for category dropdown options\n   */\n  categoryOptions: CategoryOption[];\n  /**\n   * Modify the usageStats using the transformation method selected.\n   * 1. This must be a pure function!\n   * 2. If the parent component will handle the data transformation, you should\n   *    replace this prop with \"(s) => {return s}\"\n   */\n  handleDataTransformation: (\n    stats: ChartStats,\n    transform: ChartDataTransform\n  ) => ChartStats;\n\n  /**\n   * Intervals between the x-axis values\n   */\n  usageDateInterval: IntervalPeriod;\n\n  /**\n   * Display datetime in UTC\n   */\n  usageDateShowUtc: boolean;\n};\n\ntype Props = DefaultProps & {\n  dataCategory: DataCategory;\n\n  dataTransform: ChartDataTransform;\n  theme: Theme;\n  usageDateEnd: string;\n\n  usageDateStart: string;\n  /**\n   * Usage data to draw on chart\n   */\n  usageStats: ChartStats;\n\n  /**\n   * Additional data to draw on the chart alongside usage\n   */\n  chartSeries?: SeriesOption[];\n  /**\n   * Replace default tooltip\n   */\n  chartTooltip?: TooltipComponentOption;\n\n  errors?: Record<string, Error>;\n  footer?: React.ReactNode;\n\n  isError?: boolean;\n\n  isLoading?: boolean;\n\n  title?: React.ReactNode;\n};\n\ntype State = {\n  xAxisDates: string[];\n};\n\nexport type ChartStats = {\n  accepted: NonNullable<SeriesOption['data']>;\n  dropped: NonNullable<SeriesOption['data']>;\n  projected: NonNullable<SeriesOption['data']>;\n  filtered?: NonNullable<SeriesOption['data']>;\n};\n\nexport class UsageChart extends Component<Props, State> {\n  static defaultProps: DefaultProps = {\n    categoryOptions: CHART_OPTIONS_DATACATEGORY,\n    usageDateShowUtc: true,\n    usageDateInterval: '1d',\n    handleDataTransformation: (stats, transform) => {\n      const chartData: ChartStats = {\n        accepted: [],\n        dropped: [],\n        projected: [],\n        filtered: [],\n      };\n      const isCumulative = transform === ChartDataTransform.CUMULATIVE;\n\n      Object.keys(stats).forEach(k => {\n        let count = 0;\n\n        chartData[k] = stats[k].map(stat => {\n          const [x, y] = stat.value;\n          count = isCumulative ? count + y : y;\n\n          return {\n            ...stat,\n            value: [x, count],\n          };\n        });\n      });\n\n      return chartData;\n    },\n  };\n\n  state: State = {\n    xAxisDates: [],\n  };\n\n  /**\n   * UsageChart needs to generate the X-Axis dates as props.usageStats may\n   * not pass the complete range of X-Axis data points\n   *\n   * E.g. usageStats.accepted covers day 1-15 of a month, usageStats.projected\n   * either covers day 16-30 or may not be available at all.\n   */\n  static getDerivedStateFromProps(nextProps: Readonly<Props>, prevState: State): State {\n    const {usageDateStart, usageDateEnd, usageDateShowUtc, usageDateInterval} = nextProps;\n\n    return {\n      ...prevState,\n      xAxisDates: getXAxisDates(\n        usageDateStart,\n        usageDateEnd,\n        usageDateShowUtc,\n        usageDateInterval\n      ),\n    };\n  }\n\n  get chartColors() {\n    const {dataCategory, theme} = this.props;\n    const COLOR_PROJECTED = theme.chartOther;\n\n    if (dataCategory === DataCategory.ERRORS) {\n      return [COLOR_ERRORS, COLOR_FILTERED, COLOR_DROPPED, COLOR_PROJECTED];\n    }\n\n    if (dataCategory === DataCategory.ATTACHMENTS) {\n      return [COLOR_ATTACHMENTS, COLOR_FILTERED, COLOR_DROPPED, COLOR_PROJECTED];\n    }\n\n    return [COLOR_TRANSACTIONS, COLOR_FILTERED, COLOR_DROPPED, COLOR_PROJECTED];\n  }\n\n  get chartMetadata(): {\n    chartData: ChartStats;\n    chartLabel: React.ReactNode;\n    tooltipValueFormatter: (val?: number) => string;\n    xAxisData: string[];\n    xAxisLabelInterval: number;\n    xAxisTickInterval: number;\n    yAxisFormatter: (val: number) => string;\n    yAxisMinInterval: number;\n  } {\n    const {categoryOptions, usageDateStart, usageDateEnd} = this.props;\n    const {\n      usageDateInterval,\n      usageStats,\n      dataCategory,\n      dataTransform,\n      handleDataTransformation,\n    } = this.props;\n    const {xAxisDates} = this.state;\n\n    const selectDataCategory = categoryOptions.find(o => o.value === dataCategory);\n    if (!selectDataCategory) {\n      throw new Error('Selected item is not supported');\n    }\n\n    // Do not assume that handleDataTransformation is a pure function\n    const chartData: ChartStats = {\n      ...handleDataTransformation(usageStats, dataTransform),\n    };\n\n    Object.keys(chartData).forEach(k => {\n      const isProjected = k === SeriesTypes.PROJECTED;\n\n      // Map the array and destructure elements to avoid side-effects\n      chartData[k] = chartData[k].map(stat => {\n        return {\n          ...stat,\n          tooltip: {show: false},\n          itemStyle: {opacity: isProjected ? 0.6 : 1},\n        };\n      });\n    });\n\n    // Use hours as common units\n    const dataPeriod = statsPeriodToDays(undefined, usageDateStart, usageDateEnd) * 24;\n    const barPeriod = parsePeriodToHours(usageDateInterval);\n    if (dataPeriod < 0 || barPeriod < 0) {\n      throw new Error('UsageChart: Unable to parse data time period');\n    }\n\n    const {xAxisTickInterval, xAxisLabelInterval} = getXAxisLabelInterval(\n      dataPeriod,\n      dataPeriod / barPeriod\n    );\n\n    const {label, yAxisMinInterval} = selectDataCategory;\n\n    return {\n      chartLabel: label,\n      chartData,\n      xAxisData: xAxisDates,\n      xAxisTickInterval,\n      xAxisLabelInterval,\n      yAxisMinInterval,\n      yAxisFormatter: (val: number) =>\n        formatUsageWithUnits(val, dataCategory, {\n          isAbbreviated: true,\n          useUnitScaling: true,\n        }),\n      tooltipValueFormatter: getTooltipFormatter(dataCategory),\n    };\n  }\n\n  get chartSeries() {\n    const {chartSeries} = this.props;\n    const {chartData} = this.chartMetadata;\n\n    let series: SeriesOption[] = [\n      barSeries({\n        name: SeriesTypes.ACCEPTED,\n        data: chartData.accepted as any, // TODO(ts)\n        barMinHeight: 1,\n        stack: 'usage',\n        legendHoverLink: false,\n      }),\n      barSeries({\n        name: SeriesTypes.FILTERED,\n        data: chartData.filtered as any, // TODO(ts)\n        barMinHeight: 1,\n        stack: 'usage',\n        legendHoverLink: false,\n      }),\n      barSeries({\n        name: SeriesTypes.DROPPED,\n        data: chartData.dropped as any, // TODO(ts)\n        stack: 'usage',\n        legendHoverLink: false,\n      }),\n      barSeries({\n        name: SeriesTypes.PROJECTED,\n        data: chartData.projected as any, // TODO(ts)\n        barMinHeight: 1,\n        stack: 'usage',\n        legendHoverLink: false,\n      }),\n    ];\n\n    // Additional series passed by parent component\n    if (chartSeries) {\n      series = series.concat(chartSeries as SeriesOption[]);\n    }\n\n    return series;\n  }\n\n  get chartLegend() {\n    const {chartData} = this.chartMetadata;\n    const legend = [\n      {\n        name: SeriesTypes.ACCEPTED,\n      },\n    ];\n\n    if (chartData.filtered && (chartData.filtered as any[]).length > 0) {\n      legend.push({\n        name: SeriesTypes.FILTERED,\n      });\n    }\n\n    if ((chartData.dropped as any[]).length > 0) {\n      legend.push({\n        name: SeriesTypes.DROPPED,\n      });\n    }\n\n    if ((chartData.projected as any[]).length > 0) {\n      legend.push({\n        name: SeriesTypes.PROJECTED,\n      });\n    }\n    return legend;\n  }\n\n  get chartTooltip(): ChartProps['tooltip'] {\n    const {chartTooltip} = this.props;\n\n    if (chartTooltip) {\n      return chartTooltip;\n    }\n\n    const {tooltipValueFormatter} = this.chartMetadata;\n\n    return {\n      // Trigger to axis prevents tooltip from redrawing when hovering\n      // over individual bars\n      trigger: 'axis',\n      valueFormatter: tooltipValueFormatter,\n    };\n  }\n\n  renderChart() {\n    const {theme, title, isLoading, isError, errors} = this.props;\n    if (isLoading) {\n      return (\n        <Placeholder height=\"200px\">\n          <LoadingIndicator mini />\n        </Placeholder>\n      );\n    }\n\n    if (isError) {\n      return (\n        <Placeholder height=\"200px\">\n          <IconWarning size={theme.fontSizeExtraLarge} />\n          <ErrorMessages>\n            {errors &&\n              Object.keys(errors).map(k => <span key={k}>{errors[k]?.message}</span>)}\n          </ErrorMessages>\n        </Placeholder>\n      );\n    }\n\n    const {\n      xAxisData,\n      xAxisTickInterval,\n      xAxisLabelInterval,\n      yAxisMinInterval,\n      yAxisFormatter,\n    } = this.chartMetadata;\n\n    return (\n      <Fragment>\n        <HeaderTitleLegend>{title || t('Current Usage Period')}</HeaderTitleLegend>\n        {getDynamicText({\n          value: (\n            <BaseChart\n              colors={this.chartColors}\n              grid={{bottom: '3px', left: '0px', right: '10px', top: '40px'}}\n              xAxis={xAxis({\n                show: true,\n                type: 'category',\n                name: 'Date',\n                data: xAxisData,\n                axisTick: {\n                  interval: xAxisTickInterval,\n                  alignWithLabel: true,\n                },\n                axisLabel: {\n                  interval: xAxisLabelInterval,\n                  formatter: (label: string) => label.slice(0, 6), // Limit label to 6 chars\n                },\n                theme,\n              })}\n              yAxis={{\n                min: 0,\n                minInterval: yAxisMinInterval,\n                axisLabel: {\n                  formatter: yAxisFormatter,\n                  color: theme.chartLabel,\n                },\n              }}\n              series={this.chartSeries}\n              tooltip={this.chartTooltip}\n              onLegendSelectChanged={() => {}}\n              legend={Legend({\n                right: 10,\n                top: 5,\n                data: this.chartLegend,\n                theme,\n              })}\n            />\n          ),\n          fixed: <Placeholder height=\"200px\" />,\n        })}\n      </Fragment>\n    );\n  }\n\n  render() {\n    const {footer} = this.props;\n\n    return (\n      <Panel id=\"usage-chart\">\n        <ChartContainer>{this.renderChart()}</ChartContainer>\n        {footer}\n      </Panel>\n    );\n  }\n}\n\nexport default withTheme(UsageChart);\n\nconst ErrorMessages = styled('div')`\n  display: flex;\n  flex-direction: column;\n\n  margin-top: ${space(1)};\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n","import moment from 'moment';\n\nimport {parseStatsPeriod} from 'sentry/components/organizations/pageFilters/parse';\nimport {DataCategory, IntervalPeriod} from 'sentry/types';\nimport {parsePeriodToHours} from 'sentry/utils/dates';\n\nimport {formatUsageWithUnits} from '../utils';\n\n/**\n * Avoid changing \"MMM D\" format as X-axis labels on UsageChart are naively\n * truncated by date.slice(0, 6). This avoids \"...\" when truncating by ECharts.\n */\nexport const FORMAT_DATETIME_DAILY = 'MMM D';\nexport const FORMAT_DATETIME_HOURLY = 'MMM D LT';\n\n/**\n * Used to generate X-axis data points and labels for UsageChart\n * Ensure that this method is idempotent and doesn't change the moment object\n * that is passed in\n *\n * Use the `useUtc` parameter to get the UTC date for the provided\n * moment instance.\n */\nexport function getDateFromMoment(\n  m: moment.Moment,\n  interval: IntervalPeriod = '1d',\n  useUtc: boolean = false\n) {\n  const days = parsePeriodToHours(interval) / 24;\n  if (days >= 1) {\n    return useUtc\n      ? moment.utc(m).format(FORMAT_DATETIME_DAILY)\n      : m.format(FORMAT_DATETIME_DAILY);\n  }\n\n  const parsedInterval = parseStatsPeriod(interval);\n  const datetime = useUtc ? moment(m).utc() : moment(m).local();\n\n  return parsedInterval\n    ? `${datetime.format(FORMAT_DATETIME_HOURLY)} - ${datetime\n        .add(parsedInterval.period as any, parsedInterval.periodLength as any)\n        .format('LT (Z)')}`\n    : datetime.format(FORMAT_DATETIME_HOURLY);\n}\n\nexport function getDateFromUnixTimestamp(timestamp: number) {\n  const date = moment.unix(timestamp);\n  return getDateFromMoment(date);\n}\n\nexport function getXAxisDates(\n  dateStart: string,\n  dateEnd: string,\n  dateUtc: boolean = false,\n  interval: IntervalPeriod = '1d'\n): string[] {\n  const range: string[] = [];\n  const start = moment(dateStart).startOf('h');\n  const end = moment(dateEnd).startOf('h');\n\n  if (!start.isValid() || !end.isValid()) {\n    return range;\n  }\n\n  const {period, periodLength} = parseStatsPeriod(interval) ?? {\n    period: 1,\n    periodLength: 'd',\n  };\n\n  while (!start.isAfter(end)) {\n    range.push(getDateFromMoment(start, interval, dateUtc));\n    start.add(period as any, periodLength as any); // FIXME(ts): Something odd with momentjs types\n  }\n\n  return range;\n}\n\nexport function getTooltipFormatter(dataCategory: DataCategory) {\n  return (val: number = 0) =>\n    formatUsageWithUnits(val, dataCategory, {useUnitScaling: true});\n}\n\nconst MAX_NUMBER_OF_LABELS = 10;\n\n/**\n *\n * @param dataPeriod - Quantity of hours covered by the data\n * @param numBars - Quantity of data points covered by the dataPeriod\n */\nexport function getXAxisLabelInterval(dataPeriod: number, numBars: number) {\n  return dataPeriod > 7 * 24\n    ? getLabelIntervalLongPeriod(dataPeriod, numBars)\n    : getLabelIntervalShortPeriod(dataPeriod, numBars);\n}\n\n/**\n * @param dataPeriod - Quantity of hours covered by data, expected 7+ days\n */\nfunction getLabelIntervalLongPeriod(dataPeriod: number, numBars: number) {\n  const days = dataPeriod / 24;\n  if (days <= 7) {\n    throw new Error('This method should be used for periods > 7 days');\n  }\n\n  // Use 1 tick per day\n  let numTicks = days;\n  let numLabels = numTicks;\n\n  const daysBetweenLabels = [2, 4, 7, 14];\n  const daysBetweenTicks = [1, 2, 7, 7];\n\n  for (let i = 0; i < daysBetweenLabels.length && numLabels > MAX_NUMBER_OF_LABELS; i++) {\n    numLabels = numTicks / daysBetweenLabels[i];\n    numTicks = days / daysBetweenTicks[i];\n  }\n\n  return {\n    xAxisTickInterval: numBars / numTicks - 1,\n    xAxisLabelInterval: numBars / numLabels - 1,\n  };\n}\n\n/**\n * @param dataPeriod - Quantity of hours covered by data, expected <7 days\n */\nfunction getLabelIntervalShortPeriod(dataPeriod: number, numBars: number) {\n  const days = dataPeriod / 24;\n  if (days > 7) {\n    throw new Error('This method should be used for periods <= 7 days');\n  }\n\n  // Use 1 tick/label per day, since it's guaranteed to be 7 or less\n  const numTicks = days;\n  const interval = numBars / numTicks;\n\n  return {\n    xAxisTickInterval: interval - 1,\n    xAxisLabelInterval: interval - 1,\n  };\n}\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\nimport moment from 'moment';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport OptionSelector from 'sentry/components/charts/optionSelector';\nimport {InlineContainer, SectionHeading} from 'sentry/components/charts/styles';\nimport {DateTimeObject, getSeriesApiInterval} from 'sentry/components/charts/utils';\nimport NotAvailable from 'sentry/components/notAvailable';\nimport ScoreCard from 'sentry/components/scoreCard';\nimport {DEFAULT_STATS_PERIOD} from 'sentry/constants';\nimport {t, tct} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {DataCategory, IntervalPeriod, Organization} from 'sentry/types';\nimport {parsePeriodToHours} from 'sentry/utils/dates';\n\nimport {\n  FORMAT_DATETIME_DAILY,\n  FORMAT_DATETIME_HOURLY,\n  getDateFromMoment,\n} from './usageChart/utils';\nimport {Outcome, UsageSeries, UsageStat} from './types';\nimport UsageChart, {\n  CHART_OPTIONS_DATA_TRANSFORM,\n  ChartDataTransform,\n  ChartStats,\n} from './usageChart';\nimport UsageStatsPerMin from './usageStatsPerMin';\nimport {formatUsageWithUnits, getFormatUsageOptions, isDisplayUtc} from './utils';\n\ntype Props = {\n  dataCategory: DataCategory;\n  dataCategoryName: string;\n  dataDatetime: DateTimeObject;\n  handleChangeState: (state: {\n    dataCategory?: DataCategory;\n    pagePeriod?: string | null;\n    transform?: ChartDataTransform;\n  }) => void;\n  organization: Organization;\n  chartTransform?: string;\n} & AsyncComponent['props'];\n\ntype State = {\n  orgStats: UsageSeries | undefined;\n} & AsyncComponent['state'];\n\nclass UsageStatsOrganization extends AsyncComponent<Props, State> {\n  componentDidUpdate(prevProps: Props) {\n    const {dataDatetime: prevDateTime} = prevProps;\n    const {dataDatetime: currDateTime} = this.props;\n\n    if (\n      prevDateTime.start !== currDateTime.start ||\n      prevDateTime.end !== currDateTime.end ||\n      prevDateTime.period !== currDateTime.period ||\n      prevDateTime.utc !== currDateTime.utc\n    ) {\n      this.reloadData();\n    }\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    return [['orgStats', this.endpointPath, {query: this.endpointQuery}]];\n  }\n\n  get endpointPath() {\n    const {organization} = this.props;\n    return `/organizations/${organization.slug}/stats_v2/`;\n  }\n\n  get endpointQuery() {\n    const {dataDatetime} = this.props;\n\n    const queryDatetime =\n      dataDatetime.start && dataDatetime.end\n        ? {\n            start: dataDatetime.start,\n            end: dataDatetime.end,\n            utc: dataDatetime.utc,\n          }\n        : {\n            statsPeriod: dataDatetime.period || DEFAULT_STATS_PERIOD,\n          };\n\n    return {\n      ...queryDatetime,\n      interval: getSeriesApiInterval(dataDatetime),\n      groupBy: ['category', 'outcome'],\n      field: ['sum(quantity)'],\n    };\n  }\n\n  get chartData(): {\n    cardStats: {\n      accepted?: string;\n      dropped?: string;\n      filtered?: string;\n      total?: string;\n    };\n    chartDateEnd: string;\n    chartDateEndDisplay: string;\n    chartDateInterval: IntervalPeriod;\n    chartDateStart: string;\n    chartDateStartDisplay: string;\n    chartDateTimezoneDisplay: string;\n    chartDateUtc: boolean;\n    chartStats: ChartStats;\n    chartTransform: ChartDataTransform;\n    dataError?: Error;\n  } {\n    const {orgStats} = this.state;\n\n    return {\n      ...this.mapSeriesToChart(orgStats),\n      ...this.chartDateRange,\n      ...this.chartTransform,\n    };\n  }\n\n  get chartTransform(): {chartTransform: ChartDataTransform} {\n    const {chartTransform} = this.props;\n\n    switch (chartTransform) {\n      case ChartDataTransform.CUMULATIVE:\n      case ChartDataTransform.PERIODIC:\n        return {chartTransform};\n      default:\n        return {chartTransform: ChartDataTransform.PERIODIC};\n    }\n  }\n\n  get chartDateRange(): {\n    chartDateEnd: string;\n    chartDateEndDisplay: string;\n    chartDateInterval: IntervalPeriod;\n    chartDateStart: string;\n    chartDateStartDisplay: string;\n    chartDateTimezoneDisplay: string;\n    chartDateUtc: boolean;\n  } {\n    const {orgStats} = this.state;\n    const {dataDatetime} = this.props;\n\n    const interval = getSeriesApiInterval(dataDatetime);\n\n    // Use fillers as loading/error states will not display datetime at all\n    if (!orgStats || !orgStats.intervals) {\n      return {\n        chartDateInterval: interval,\n        chartDateStart: '',\n        chartDateEnd: '',\n        chartDateUtc: true,\n        chartDateStartDisplay: '',\n        chartDateEndDisplay: '',\n        chartDateTimezoneDisplay: '',\n      };\n    }\n\n    const {intervals} = orgStats;\n    const intervalHours = parsePeriodToHours(interval);\n\n    // Keep datetime in UTC until we want to display it to users\n    const startTime = moment(intervals[0]).utc();\n    const endTime =\n      intervals.length < 2\n        ? moment(startTime) // when statsPeriod and interval is the same value\n        : moment(intervals[intervals.length - 1]).utc();\n    const useUtc = isDisplayUtc(dataDatetime);\n\n    // If interval is a day or more, use UTC to format date. Otherwise, the date\n    // may shift ahead/behind when converting to the user's local time.\n    const FORMAT_DATETIME =\n      intervalHours >= 24 ? FORMAT_DATETIME_DAILY : FORMAT_DATETIME_HOURLY;\n\n    const xAxisStart = moment(startTime);\n    const xAxisEnd = moment(endTime);\n    const displayStart = useUtc ? moment(startTime).utc() : moment(startTime).local();\n    const displayEnd = useUtc ? moment(endTime).utc() : moment(endTime).local();\n\n    if (intervalHours < 24) {\n      displayEnd.add(intervalHours, 'h');\n    }\n\n    return {\n      chartDateInterval: interval,\n      chartDateStart: xAxisStart.format(),\n      chartDateEnd: xAxisEnd.format(),\n      chartDateUtc: useUtc,\n      chartDateStartDisplay: displayStart.format(FORMAT_DATETIME),\n      chartDateEndDisplay: displayEnd.format(FORMAT_DATETIME),\n      chartDateTimezoneDisplay: displayStart.format('Z'),\n    };\n  }\n\n  mapSeriesToChart(orgStats?: UsageSeries): {\n    cardStats: {\n      accepted?: string;\n      dropped?: string;\n      filtered?: string;\n      total?: string;\n    };\n    chartStats: ChartStats;\n    dataError?: Error;\n  } {\n    const cardStats = {\n      total: undefined,\n      accepted: undefined,\n      dropped: undefined,\n      filtered: undefined,\n    };\n    const chartStats: ChartStats = {\n      accepted: [],\n      dropped: [],\n      projected: [],\n      filtered: [],\n    };\n\n    if (!orgStats) {\n      return {cardStats, chartStats};\n    }\n\n    try {\n      const {dataCategory} = this.props;\n      const {chartDateInterval, chartDateUtc} = this.chartDateRange;\n\n      const usageStats: UsageStat[] = orgStats.intervals.map(interval => {\n        const dateTime = moment(interval);\n\n        return {\n          date: getDateFromMoment(dateTime, chartDateInterval, chartDateUtc),\n          total: 0,\n          accepted: 0,\n          filtered: 0,\n          dropped: {total: 0},\n        };\n      });\n\n      // Tally totals for card data\n      const count: Record<'total' | Outcome, number> = {\n        total: 0,\n        [Outcome.ACCEPTED]: 0,\n        [Outcome.FILTERED]: 0,\n        [Outcome.DROPPED]: 0,\n        [Outcome.INVALID]: 0, // Combined with dropped later\n        [Outcome.RATE_LIMITED]: 0, // Combined with dropped later\n        [Outcome.CLIENT_DISCARD]: 0, // Not exposed yet\n      };\n\n      orgStats.groups.forEach(group => {\n        const {outcome, category} = group.by;\n        // HACK: The backend enum are singular, but the frontend enums are plural\n        if (!dataCategory.includes(`${category}`)) {\n          return;\n        }\n\n        if (outcome !== Outcome.CLIENT_DISCARD) {\n          count.total += group.totals['sum(quantity)'];\n        }\n\n        count[outcome] += group.totals['sum(quantity)'];\n\n        group.series['sum(quantity)'].forEach((stat, i) => {\n          switch (outcome) {\n            case Outcome.ACCEPTED:\n            case Outcome.FILTERED:\n              usageStats[i][outcome] += stat;\n              return;\n            case Outcome.DROPPED:\n            case Outcome.RATE_LIMITED:\n            case Outcome.INVALID:\n              usageStats[i].dropped.total += stat;\n              // TODO: add client discards to dropped?\n              return;\n            default:\n              return;\n          }\n        });\n      });\n\n      // Invalid and rate_limited data is combined with dropped\n      count[Outcome.DROPPED] += count[Outcome.INVALID];\n      count[Outcome.DROPPED] += count[Outcome.RATE_LIMITED];\n\n      usageStats.forEach(stat => {\n        stat.total = stat.accepted + stat.filtered + stat.dropped.total;\n\n        // Chart Data\n        (chartStats.accepted as any[]).push({value: [stat.date, stat.accepted]});\n        (chartStats.dropped as any[]).push({\n          value: [stat.date, stat.dropped.total],\n        } as any);\n        (chartStats.filtered as any[])?.push({value: [stat.date, stat.filtered]});\n      });\n\n      return {\n        cardStats: {\n          total: formatUsageWithUnits(\n            count.total,\n            dataCategory,\n            getFormatUsageOptions(dataCategory)\n          ),\n          accepted: formatUsageWithUnits(\n            count[Outcome.ACCEPTED],\n            dataCategory,\n            getFormatUsageOptions(dataCategory)\n          ),\n          filtered: formatUsageWithUnits(\n            count[Outcome.FILTERED],\n            dataCategory,\n            getFormatUsageOptions(dataCategory)\n          ),\n          dropped: formatUsageWithUnits(\n            count[Outcome.DROPPED],\n            dataCategory,\n            getFormatUsageOptions(dataCategory)\n          ),\n        },\n        chartStats,\n      };\n    } catch (err) {\n      Sentry.withScope(scope => {\n        scope.setContext('query', this.endpointQuery);\n        scope.setContext('body', {...orgStats});\n        Sentry.captureException(err);\n      });\n\n      return {\n        cardStats,\n        chartStats,\n        dataError: new Error('Failed to parse stats data'),\n      };\n    }\n  }\n\n  renderCards() {\n    const {dataCategory, dataCategoryName, organization} = this.props;\n    const {loading} = this.state;\n    const {total, accepted, dropped, filtered} = this.chartData.cardStats;\n\n    const cardMetadata = [\n      {\n        title: tct('Total [dataCategory]', {dataCategory: dataCategoryName}),\n        value: total,\n      },\n      {\n        title: t('Accepted'),\n        help: tct('Accepted [dataCategory] were successfully processed by Sentry', {\n          dataCategory,\n        }),\n        value: accepted,\n        secondaryValue: (\n          <UsageStatsPerMin organization={organization} dataCategory={dataCategory} />\n        ),\n      },\n      {\n        title: t('Filtered'),\n        help: tct(\n          'Filtered [dataCategory] were blocked due to your inbound data filter rules',\n          {dataCategory}\n        ),\n        value: filtered,\n      },\n      {\n        title: t('Dropped'),\n        help: tct(\n          'Dropped [dataCategory] were discarded due to invalid data, rate-limits, quota limits, or spike protection',\n          {dataCategory}\n        ),\n        value: dropped,\n      },\n    ];\n\n    return cardMetadata.map((card, i) => (\n      <StyledScoreCard\n        key={i}\n        title={card.title}\n        score={loading ? undefined : card.value}\n        help={card.help}\n        trend={card.secondaryValue}\n      />\n    ));\n  }\n\n  renderChart() {\n    const {dataCategory} = this.props;\n    const {error, errors, loading} = this.state;\n\n    const {\n      chartStats,\n      dataError,\n      chartDateInterval,\n      chartDateStart,\n      chartDateEnd,\n      chartDateUtc,\n      chartTransform,\n    } = this.chartData;\n\n    const hasError = error || !!dataError;\n    const chartErrors: any = dataError ? {...errors, data: dataError} : errors; // TODO(ts): AsyncComponent\n\n    return (\n      <UsageChart\n        isLoading={loading}\n        isError={hasError}\n        errors={chartErrors}\n        title=\" \" // Force the title to be blank\n        footer={this.renderChartFooter()}\n        dataCategory={dataCategory}\n        dataTransform={chartTransform}\n        usageDateStart={chartDateStart}\n        usageDateEnd={chartDateEnd}\n        usageDateShowUtc={chartDateUtc}\n        usageDateInterval={chartDateInterval}\n        usageStats={chartStats}\n      />\n    );\n  }\n\n  renderChartFooter = () => {\n    const {handleChangeState} = this.props;\n    const {loading, error} = this.state;\n    const {\n      chartDateInterval,\n      chartTransform,\n      chartDateStartDisplay,\n      chartDateEndDisplay,\n      chartDateTimezoneDisplay,\n    } = this.chartData;\n\n    return (\n      <Footer>\n        <InlineContainer>\n          <FooterDate>\n            <SectionHeading>{t('Date Range:')}</SectionHeading>\n            <span>\n              {loading || error ? (\n                <NotAvailable />\n              ) : (\n                tct('[start]  [end] ([timezone] UTC, [interval] interval)', {\n                  start: chartDateStartDisplay,\n                  end: chartDateEndDisplay,\n                  timezone: chartDateTimezoneDisplay,\n                  interval: chartDateInterval,\n                })\n              )}\n            </span>\n          </FooterDate>\n        </InlineContainer>\n        <InlineContainer>\n          <OptionSelector\n            title={t('Type')}\n            selected={chartTransform}\n            options={CHART_OPTIONS_DATA_TRANSFORM}\n            onChange={(val: string) =>\n              handleChangeState({transform: val as ChartDataTransform})\n            }\n          />\n        </InlineContainer>\n      </Footer>\n    );\n  };\n\n  renderComponent() {\n    return (\n      <Fragment>\n        {this.renderCards()}\n        <ChartWrapper>{this.renderChart()}</ChartWrapper>\n      </Fragment>\n    );\n  }\n}\n\nexport default UsageStatsOrganization;\n\nconst StyledScoreCard = styled(ScoreCard)`\n  grid-column: auto / span 1;\n  margin: 0;\n`;\n\nconst ChartWrapper = styled('div')`\n  grid-column: 1 / -1;\n`;\n\nconst Footer = styled('div')`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: ${space(1)} ${space(3)};\n  border-top: 1px solid ${p => p.theme.border};\n`;\nconst FooterDate = styled('div')`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  > ${SectionHeading} {\n    margin-right: ${space(1.5)};\n  }\n\n  > span:last-child {\n    font-weight: 400;\n    font-size: ${p => p.theme.fontSizeMedium};\n  }\n`;\n","import styled from '@emotion/styled';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport {t} from 'sentry/locale';\nimport {DataCategory, Organization} from 'sentry/types';\n\nimport {Outcome, UsageSeries} from './types';\nimport {formatUsageWithUnits, getFormatUsageOptions} from './utils';\n\ntype Props = {\n  dataCategory: DataCategory;\n  organization: Organization;\n} & AsyncComponent['props'];\n\ntype State = {\n  orgStats: UsageSeries | undefined;\n} & AsyncComponent['state'];\n\n/**\n * Making 1 extra API call to display this number isn't very efficient.\n * The other approach would be to fetch the data in UsageStatsOrg with 1min\n * interval and roll it up on the frontend, but that (1) adds unnecessary\n * complexity as it's gnarly to fetch + rollup 90 days of 1min intervals,\n * (3) API resultset has a limit of 1000, so 90 days of 1min would not work.\n *\n * We're going with this approach for simplicity sake. By keeping the range\n * as small as possible, this call is quite fast.\n */\nclass UsageStatsPerMin extends AsyncComponent<Props, State> {\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    return [['orgStats', this.endpointPath, {query: this.endpointQuery}]];\n  }\n\n  get endpointPath() {\n    const {organization} = this.props;\n    return `/organizations/${organization.slug}/stats_v2/`;\n  }\n\n  get endpointQuery() {\n    return {\n      statsPeriod: '5m', // Any value <1h will return current hour's data\n      interval: '1m',\n      groupBy: ['category', 'outcome'],\n      field: ['sum(quantity)'],\n    };\n  }\n\n  get minuteData(): string | undefined {\n    const {dataCategory} = this.props;\n    const {loading, error, orgStats} = this.state;\n\n    if (loading || error || !orgStats || orgStats.intervals.length === 0) {\n      return undefined;\n    }\n\n    // The last minute in the series is still \"in progress\"\n    // Read data from 2nd last element for the latest complete minute\n    const {intervals, groups} = orgStats;\n    const lastMin = Math.max(intervals.length - 2, 0);\n\n    const eventsLastMin = groups.reduce((count, group) => {\n      const {outcome, category} = group.by;\n\n      // HACK: The backend enum are singular, but the frontend enums are plural\n      if (!dataCategory.includes(`${category}`) || outcome !== Outcome.ACCEPTED) {\n        return count;\n      }\n\n      count += group.series['sum(quantity)'][lastMin];\n      return count;\n    }, 0);\n\n    return formatUsageWithUnits(\n      eventsLastMin,\n      dataCategory,\n      getFormatUsageOptions(dataCategory)\n    );\n  }\n\n  renderComponent() {\n    if (!this.minuteData) {\n      return null;\n    }\n\n    return (\n      <Wrapper>\n        {this.minuteData} {t('in last min')}\n      </Wrapper>\n    );\n  }\n}\n\nexport default UsageStatsPerMin;\n\nconst Wrapper = styled('div')`\n  display: inline-block;\n  color: ${p => p.theme.success};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\nimport {LocationDescriptorObject} from 'history';\n\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport {DateTimeObject, getSeriesApiInterval} from 'sentry/components/charts/utils';\nimport SortLink, {Alignments, Directions} from 'sentry/components/gridEditable/sortLink';\nimport Pagination from 'sentry/components/pagination';\nimport SearchBar from 'sentry/components/searchBar';\nimport {DEFAULT_STATS_PERIOD} from 'sentry/constants';\nimport {t} from 'sentry/locale';\nimport space from 'sentry/styles/space';\nimport {DataCategory, Organization, Project} from 'sentry/types';\nimport withProjects from 'sentry/utils/withProjects';\n\nimport {Outcome, UsageSeries} from './types';\nimport UsageTable, {CellProject, CellStat, TableStat} from './usageTable';\n\ntype Props = {\n  dataCategory: DataCategory;\n  dataCategoryName: string;\n  dataDatetime: DateTimeObject;\n\n  getNextLocations: (project: Project) => Record<string, LocationDescriptorObject>;\n  handleChangeState: (\n    nextState: {\n      cursor?: string;\n      query?: string;\n      sort?: string;\n    },\n    options?: {willUpdateRouter?: boolean}\n  ) => LocationDescriptorObject;\n  loadingProjects: boolean;\n  organization: Organization;\n  projects: Project[];\n  tableCursor?: string;\n  tableQuery?: string;\n  tableSort?: string;\n} & AsyncComponent['props'];\n\ntype State = {\n  projectStats: UsageSeries | undefined;\n} & AsyncComponent['state'];\n\nexport enum SortBy {\n  PROJECT = 'project',\n  TOTAL = 'total',\n  ACCEPTED = 'accepted',\n  FILTERED = 'filtered',\n  DROPPED = 'dropped',\n  INVALID = 'invalid',\n  RATE_LIMITED = 'rate_limited',\n}\n\nclass UsageStatsProjects extends AsyncComponent<Props, State> {\n  static MAX_ROWS_USAGE_TABLE = 25;\n\n  componentDidUpdate(prevProps: Props) {\n    const {dataDatetime: prevDateTime, dataCategory: prevDataCategory} = prevProps;\n    const {dataDatetime: currDateTime, dataCategory: currDataCategory} = this.props;\n\n    if (\n      prevDateTime.start !== currDateTime.start ||\n      prevDateTime.end !== currDateTime.end ||\n      prevDateTime.period !== currDateTime.period ||\n      prevDateTime.utc !== currDateTime.utc ||\n      currDataCategory !== prevDataCategory\n    ) {\n      this.reloadData();\n    }\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    return [['projectStats', this.endpointPath, {query: this.endpointQuery}]];\n  }\n\n  get endpointPath() {\n    const {organization} = this.props;\n    return `/organizations/${organization.slug}/stats_v2/`;\n  }\n\n  get endpointQuery() {\n    const {dataDatetime, dataCategory} = this.props;\n\n    const queryDatetime =\n      dataDatetime.start && dataDatetime.end\n        ? {\n            start: dataDatetime.start,\n            end: dataDatetime.end,\n            utc: dataDatetime.utc,\n          }\n        : {\n            statsPeriod: dataDatetime.period || DEFAULT_STATS_PERIOD,\n          };\n\n    // We do not need more granularity in the data so interval is '1d'\n    return {\n      ...queryDatetime,\n      interval: getSeriesApiInterval(dataDatetime),\n      groupBy: ['outcome', 'project'],\n      field: ['sum(quantity)'],\n      project: '-1', // get all project user has access to\n      category: dataCategory.slice(0, -1), // backend is singular\n    };\n  }\n\n  get tableData() {\n    const {projectStats} = this.state;\n\n    return {\n      headers: this.tableHeader,\n      ...this.mapSeriesToTable(projectStats),\n    };\n  }\n\n  get tableSort(): {\n    direction: number;\n    key: SortBy;\n  } {\n    const {tableSort} = this.props;\n\n    if (!tableSort) {\n      return {\n        key: SortBy.TOTAL,\n        direction: 1,\n      };\n    }\n\n    let key: string = tableSort;\n    let direction: number = -1;\n\n    if (tableSort.charAt(0) === '-') {\n      key = key.slice(1);\n      direction = 1;\n    }\n\n    switch (key) {\n      case SortBy.PROJECT:\n      case SortBy.TOTAL:\n      case SortBy.ACCEPTED:\n      case SortBy.FILTERED:\n      case SortBy.DROPPED:\n        return {key, direction};\n      default:\n        return {key: SortBy.ACCEPTED, direction: -1};\n    }\n  }\n\n  get tableCursor() {\n    const {tableCursor} = this.props;\n    const offset = Number(tableCursor?.split(':')[1]);\n    return isNaN(offset) ? 0 : offset;\n  }\n\n  /**\n   * OrganizationStatsEndpointV2 does not have any performance issues. We use\n   * client-side pagination to limit the number of rows on the table so the\n   * page doesn't scroll too deeply for organizations with a lot of projects\n   */\n  get pageLink() {\n    const numRows = this.filteredProjects.length;\n    const offset = this.tableCursor;\n    const prevOffset = offset - UsageStatsProjects.MAX_ROWS_USAGE_TABLE;\n    const nextOffset = offset + UsageStatsProjects.MAX_ROWS_USAGE_TABLE;\n\n    return `<link>; rel=\"previous\"; results=\"${prevOffset >= 0}\"; cursor=\"0:${Math.max(\n      0,\n      prevOffset\n    )}:1\", <link>; rel=\"next\"; results=\"${\n      nextOffset < numRows\n    }\"; cursor=\"0:${nextOffset}:0\"`;\n  }\n\n  /**\n   * Filter projects if there's a query\n   */\n  get filteredProjects() {\n    const {projects, tableQuery} = this.props;\n    return tableQuery\n      ? projects.filter(p => p.slug.includes(tableQuery) && p.hasAccess)\n      : projects.filter(p => p.hasAccess);\n  }\n\n  get tableHeader() {\n    const {key, direction} = this.tableSort;\n\n    const getArrowDirection = (linkKey: SortBy): Directions => {\n      if (linkKey !== key) {\n        return undefined;\n      }\n\n      return direction > 0 ? 'desc' : 'asc';\n    };\n\n    return [\n      {\n        key: SortBy.PROJECT,\n        title: t('Project'),\n        align: 'left',\n        direction: getArrowDirection(SortBy.PROJECT),\n        onClick: () => this.handleChangeSort(SortBy.PROJECT),\n      },\n      {\n        key: SortBy.TOTAL,\n        title: t('Total'),\n        align: 'right',\n        direction: getArrowDirection(SortBy.TOTAL),\n        onClick: () => this.handleChangeSort(SortBy.TOTAL),\n      },\n      {\n        key: SortBy.ACCEPTED,\n        title: t('Accepted'),\n        align: 'right',\n        direction: getArrowDirection(SortBy.ACCEPTED),\n        onClick: () => this.handleChangeSort(SortBy.ACCEPTED),\n      },\n      {\n        key: SortBy.FILTERED,\n        title: t('Filtered'),\n        align: 'right',\n        direction: getArrowDirection(SortBy.FILTERED),\n        onClick: () => this.handleChangeSort(SortBy.FILTERED),\n      },\n      {\n        key: SortBy.DROPPED,\n        title: t('Dropped'),\n        align: 'right',\n        direction: getArrowDirection(SortBy.DROPPED),\n        onClick: () => this.handleChangeSort(SortBy.DROPPED),\n      },\n    ].map(h => {\n      const Cell = h.key === SortBy.PROJECT ? CellProject : CellStat;\n\n      return (\n        <Cell key={h.key}>\n          <SortLink\n            canSort\n            title={h.title}\n            align={h.align as Alignments}\n            direction={h.direction}\n            generateSortLink={h.onClick}\n          />\n        </Cell>\n      );\n    });\n  }\n\n  getProjectLink(project: Project) {\n    const {dataCategory, getNextLocations, organization} = this.props;\n    const {performance, projectDetail, settings} = getNextLocations(project);\n\n    if (\n      dataCategory === DataCategory.TRANSACTIONS &&\n      organization.features.includes('performance-view')\n    ) {\n      return {\n        projectLink: performance,\n        projectSettingsLink: settings,\n      };\n    }\n\n    return {\n      projectLink: projectDetail,\n      projectSettingsLink: settings,\n    };\n  }\n\n  handleChangeSort = (nextKey: SortBy) => {\n    const {handleChangeState} = this.props;\n    const {key, direction} = this.tableSort;\n\n    let nextDirection = 1; // Default to descending\n\n    if (key === nextKey) {\n      nextDirection = direction * -1; // Toggle if clicking on the same column\n    } else if (nextKey === SortBy.PROJECT) {\n      nextDirection = -1; // Default PROJECT to ascending\n    }\n\n    // The header uses SortLink, which takes a LocationDescriptor and pushes\n    // that to the router. As such, we do not need to update the router in\n    // handleChangeState\n    return handleChangeState(\n      {sort: `${nextDirection > 0 ? '-' : ''}${nextKey}`},\n      {willUpdateRouter: false}\n    );\n  };\n\n  handleSearch = (query: string) => {\n    const {handleChangeState, tableQuery} = this.props;\n\n    if (query === tableQuery) {\n      return;\n    }\n\n    if (!query) {\n      handleChangeState({query: undefined, cursor: undefined});\n      return;\n    }\n\n    handleChangeState({query, cursor: undefined});\n  };\n\n  mapSeriesToTable(projectStats?: UsageSeries): {\n    tableStats: TableStat[];\n    error?: Error;\n  } {\n    if (!projectStats) {\n      return {tableStats: []};\n    }\n\n    const stats: Record<number, object> = {};\n\n    try {\n      const baseStat: Partial<TableStat> = {\n        [SortBy.TOTAL]: 0,\n        [SortBy.ACCEPTED]: 0,\n        [SortBy.FILTERED]: 0,\n        [SortBy.DROPPED]: 0,\n      };\n\n      const projectList = this.filteredProjects;\n      const projectSet = new Set(projectList.map(p => p.id));\n\n      projectStats.groups.forEach(group => {\n        const {outcome, project: projectId} = group.by;\n        // Backend enum is singlar. Frontend enum is plural.\n\n        if (!projectSet.has(projectId.toString())) {\n          return;\n        }\n\n        if (!stats[projectId]) {\n          stats[projectId] = {...baseStat};\n        }\n\n        if (outcome !== Outcome.CLIENT_DISCARD) {\n          stats[projectId].total += group.totals['sum(quantity)'];\n        }\n\n        if (outcome === Outcome.ACCEPTED || outcome === Outcome.FILTERED) {\n          stats[projectId][outcome] += group.totals['sum(quantity)'];\n        } else if (\n          outcome === Outcome.RATE_LIMITED ||\n          outcome === Outcome.INVALID ||\n          outcome === Outcome.DROPPED\n        ) {\n          stats[projectId][SortBy.DROPPED] += group.totals['sum(quantity)'];\n        }\n      });\n\n      // For projects without stats, fill in with zero\n      const tableStats: TableStat[] = projectList.map(proj => {\n        const stat = stats[proj.id] ?? {...baseStat};\n        return {\n          project: {...proj},\n          ...this.getProjectLink(proj),\n          ...stat,\n        };\n      });\n\n      const {key, direction} = this.tableSort;\n      tableStats.sort((a, b) => {\n        if (key === SortBy.PROJECT) {\n          return b.project.slug.localeCompare(a.project.slug) * direction;\n        }\n\n        return a[key] !== b[key]\n          ? (b[key] - a[key]) * direction\n          : a.project.slug.localeCompare(b.project.slug);\n      });\n\n      const offset = this.tableCursor;\n\n      return {\n        tableStats: tableStats.slice(\n          offset,\n          offset + UsageStatsProjects.MAX_ROWS_USAGE_TABLE\n        ),\n      };\n    } catch (err) {\n      Sentry.withScope(scope => {\n        scope.setContext('query', this.endpointQuery);\n        scope.setContext('body', {...projectStats});\n        Sentry.captureException(err);\n      });\n\n      return {\n        tableStats: [],\n        error: err,\n      };\n    }\n  }\n\n  renderComponent() {\n    const {error, errors, loading} = this.state;\n    const {dataCategory, loadingProjects, tableQuery} = this.props;\n    const {headers, tableStats} = this.tableData;\n\n    return (\n      <Fragment>\n        <Container>\n          <SearchBar\n            defaultQuery=\"\"\n            query={tableQuery}\n            placeholder={t('Filter your projects')}\n            onSearch={this.handleSearch}\n          />\n        </Container>\n\n        <Container>\n          <UsageTable\n            isLoading={loading || loadingProjects}\n            isError={error}\n            errors={errors as any} // TODO(ts)\n            isEmpty={tableStats.length === 0}\n            headers={headers}\n            dataCategory={dataCategory}\n            usageStats={tableStats}\n          />\n          <Pagination pageLinks={this.pageLink} />\n        </Container>\n      </Fragment>\n    );\n  }\n}\n\nexport default withProjects(UsageStatsProjects);\n\nconst Container = styled('div')`\n  margin-bottom: ${space(2)};\n`;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport ErrorPanel from 'sentry/components/charts/errorPanel';\nimport IdBadge from 'sentry/components/idBadge';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Link from 'sentry/components/links/link';\nimport {SettingsIconLink} from 'sentry/components/organizations/headerItem';\nimport {Panel} from 'sentry/components/panels';\nimport PanelTable from 'sentry/components/panels/panelTable';\nimport {IconSettings, IconWarning} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport {DataCategory, Project} from 'sentry/types';\nimport theme from 'sentry/utils/theme';\nimport EmptyMessage from 'sentry/views/settings/components/emptyMessage';\n\nimport {formatUsageWithUnits} from '../utils';\n\nconst DOCS_URL = 'https://docs.sentry.io/product/accounts/membership/#restricting-access';\n\ntype Props = {\n  dataCategory: DataCategory;\n  headers: React.ReactNode[];\n  usageStats: TableStat[];\n  errors?: Record<string, Error>;\n\n  isEmpty?: boolean;\n\n  isError?: boolean;\n  isLoading?: boolean;\n};\n\nexport type TableStat = {\n  accepted: number;\n  dropped: number;\n  filtered: number;\n  project: Project;\n  projectLink: string;\n  projectSettingsLink: string;\n  total: number;\n};\n\nclass UsageTable extends Component<Props> {\n  get formatUsageOptions() {\n    const {dataCategory} = this.props;\n\n    return {\n      isAbbreviated: dataCategory !== DataCategory.ATTACHMENTS,\n      useUnitScaling: dataCategory === DataCategory.ATTACHMENTS,\n    };\n  }\n\n  getErrorMessage = errorMessage => {\n    if (errorMessage.projectStats.responseJSON.detail === 'No projects available') {\n      return (\n        <EmptyMessage\n          icon={<IconWarning color=\"gray300\" size=\"48\" />}\n          title={t(\n            \"You don't have access to any projects, or your organization has no projects.\"\n          )}\n          description={tct('Learn more about [link:Project Access]', {\n            link: <ExternalLink href={DOCS_URL} />,\n          })}\n        />\n      );\n    }\n    return <IconWarning color=\"gray300\" size=\"48\" />;\n  };\n\n  renderTableRow(stat: TableStat & {project: Project}) {\n    const {dataCategory} = this.props;\n    const {project, total, accepted, filtered, dropped} = stat;\n\n    return [\n      <CellProject key={0}>\n        <Link to={stat.projectLink}>\n          <StyledIdBadge\n            avatarSize={16}\n            disableLink\n            hideOverflow\n            project={project}\n            displayName={project.slug}\n          />\n        </Link>\n        <SettingsIconLink to={stat.projectSettingsLink}>\n          <IconSettings size={theme.iconSizes.sm} />\n        </SettingsIconLink>\n      </CellProject>,\n      <CellStat key={1}>\n        {formatUsageWithUnits(total, dataCategory, this.formatUsageOptions)}\n      </CellStat>,\n      <CellStat key={2}>\n        {formatUsageWithUnits(accepted, dataCategory, this.formatUsageOptions)}\n      </CellStat>,\n      <CellStat key={3}>\n        {formatUsageWithUnits(filtered, dataCategory, this.formatUsageOptions)}\n      </CellStat>,\n      <CellStat key={4}>\n        {formatUsageWithUnits(dropped, dataCategory, this.formatUsageOptions)}\n      </CellStat>,\n    ];\n  }\n\n  render() {\n    const {isEmpty, isLoading, isError, errors, headers, usageStats} = this.props;\n\n    if (isError) {\n      return (\n        <Panel>\n          <ErrorPanel height=\"256px\">{this.getErrorMessage(errors)}</ErrorPanel>\n        </Panel>\n      );\n    }\n\n    return (\n      <StyledPanelTable isLoading={isLoading} isEmpty={isEmpty} headers={headers}>\n        {usageStats.map(s => this.renderTableRow(s))}\n      </StyledPanelTable>\n    );\n  }\n}\n\nexport default UsageTable;\n\nconst StyledPanelTable = styled(PanelTable)`\n  grid-template-columns: repeat(5, auto);\n\n  @media (min-width: ${p => p.theme.breakpoints.small}) {\n    grid-template-columns: 1fr repeat(4, minmax(0, auto));\n  }\n`;\n\nexport const CellStat = styled('div')`\n  flex-shrink: 1;\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n`;\n\nexport const CellProject = styled(CellStat)`\n  display: flex;\n  align-items: center;\n  text-align: left;\n`;\n\nconst StyledIdBadge = styled(IdBadge)`\n  overflow: hidden;\n  white-space: nowrap;\n  flex-shrink: 1;\n`;\n","import {DateTimeObject, getSeriesApiInterval} from 'sentry/components/charts/utils';\nimport {DataCategory} from 'sentry/types';\nimport {formatBytesBase10} from 'sentry/utils';\nimport {parsePeriodToHours} from 'sentry/utils/dates';\n\nexport const MILLION = 10 ** 6;\nexport const BILLION = 10 ** 9;\nexport const GIGABYTE = 10 ** 9;\n\ntype FormatOptions = {\n  /**\n   * Truncate 1234 => 1.2k or 1,234,000 to 1.23M\n   */\n  isAbbreviated?: boolean;\n\n  /**\n   * Convert attachments to use the most appropriate unit KB/MB/GB/TB/etc.\n   * Otherwise, it will default to GB\n   */\n  useUnitScaling?: boolean;\n};\n\n/**\n * This expects usage values/quantities for the data categories that we sell.\n *\n * Note: usageQuantity for Attachments should be in BYTES\n */\nexport function formatUsageWithUnits(\n  usageQuantity: number = 0,\n  dataCategory: DataCategory,\n  options: FormatOptions = {isAbbreviated: false, useUnitScaling: false}\n) {\n  if (dataCategory !== DataCategory.ATTACHMENTS) {\n    return options.isAbbreviated\n      ? abbreviateUsageNumber(usageQuantity)\n      : usageQuantity.toLocaleString();\n  }\n\n  if (options.useUnitScaling) {\n    return formatBytesBase10(usageQuantity);\n  }\n\n  const usageGb = usageQuantity / GIGABYTE;\n  return options.isAbbreviated\n    ? `${abbreviateUsageNumber(usageGb)} GB`\n    : `${usageGb.toLocaleString(undefined, {maximumFractionDigits: 2})} GB`;\n}\n\n/**\n * Good default for \"formatUsageWithUnits\"\n */\nexport function getFormatUsageOptions(dataCategory: DataCategory): FormatOptions {\n  return {\n    isAbbreviated: dataCategory !== DataCategory.ATTACHMENTS,\n    useUnitScaling: dataCategory === DataCategory.ATTACHMENTS,\n  };\n}\n\n/**\n * Instead of using this function directly, use formatReservedWithUnits or\n * formatUsageWithUnits with options.isAbbreviated to true instead.\n *\n * This function display different precision for billion/million/thousand to\n * provide clarity on usage of errors/transactions/attachments to the user.\n *\n * If you are not displaying usage numbers, it might be better to use\n * `formatAbbreviatedNumber` in 'sentry/utils/formatters'\n */\nexport function abbreviateUsageNumber(n: number) {\n  if (n >= BILLION) {\n    return (n / BILLION).toLocaleString(undefined, {maximumFractionDigits: 2}) + 'B';\n  }\n\n  if (n >= MILLION) {\n    return (n / MILLION).toLocaleString(undefined, {maximumFractionDigits: 1}) + 'M';\n  }\n\n  if (n >= 1000) {\n    return (n / 1000).toFixed().toLocaleString() + 'K';\n  }\n\n  // Do not show decimals\n  return n.toFixed().toLocaleString();\n}\n\n/**\n * We want to display datetime in UTC in the following situations:\n *\n * 1) The user selected an absolute date range with UTC\n * 2) The user selected a wide date range with 1d interval\n *\n * When the interval is 1d, we need to use UTC because the 24 hour range might\n * shift forward/backward depending on the user's timezone, or it might be\n * displayed as a day earlier/later\n */\nexport function isDisplayUtc(datetime: DateTimeObject): boolean {\n  if (datetime.utc) {\n    return true;\n  }\n\n  const interval = getSeriesApiInterval(datetime);\n  const hours = parsePeriodToHours(interval);\n  return hours >= 24;\n}\n"],"names":["ErrorPanel","p","height","theme","gray300","fontSizeExtraLarge","Fragment","useMemo","FeatureBadge","CompactSelect","Truncate","defined","OptionSelector","options","onChange","selected","title","featureType","multiple","rest","mappedOptions","map","opt","label","String","onValueChange","option","o","value","isOptionDisabled","disabled","length","includes","borderless","prefix","StyledFeatureBadge","omit","Link","IconArrow","SortLink","align","canSort","generateSortLink","onClick","direction","target","arrow","StyledLink","props","forwardProps","StyledNonLink","StyledIconArrow","Tooltip","NotAvailable","tooltip","className","undefined","Wrapper","gray200","Panel","QuestionTooltip","TextOverflow","space","ScoreCard","score","help","trend","trendStatus","getTrendColor","green300","red300","ScorePanel","HeaderTitle","Title","fontSizeLarge","headingColor","overflowEllipsis","ScoreWrapper","Score","Trend","Component","pick","moment","navigateTo","Feature","Alert","ErrorBoundary","HookOrDefault","Layout","normalizeDateTimeParams","PageHeading","PageTimeRangeSelector","SentryDocumentTitle","DATA_CATEGORY_NAMES","DEFAULT_RELATIVE_PERIODS","DEFAULT_STATS_PERIOD","t","tct","PageHeader","DataCategory","withOrganization","HeaderTabs","CHART_OPTIONS_DATACATEGORY","UsageStatsOrg","UsageStatsProjects","HookHeader","hookName","PAGE_QUERY_PARAMS","OrganizationStats","project","location","organization","nextLocation","query","id","performance","pathname","slug","projectDetail","issueList","settings","datetime","start","end","relative","utc","parser","setStateOnUrl","pageStatsPeriod","pageStart","format","pageEnd","pageUtc","e","preventDefault","router","nextState","willUpdateRouter","nextQueryParams","push","period","dataDatetime","dataCategory","handleUpdateDatetime","ERRORS","TRANSACTIONS","ATTACHMENTS","dataCategoryName","statsPeriod","utcString","allowEmptyPeriod","allowAbsoluteDatetime","allowAbsolutePageDatetime","chartTransform","transform","tableSort","sort","tableQuery","tableCursor","cursor","render","hasTeamInsights","features","renderPageControl","link","navigateToSamplingSettings","getNextLocations","PageGrid","breakpoints","small","large","DropdownDataCategory","StyledPageTimeRangeSelector","Body","medium","Outcome","withTheme","Color","BaseChart","Legend","xAxis","barSeries","ChartContainer","HeaderTitleLegend","LoadingIndicator","Placeholder","IconWarning","parsePeriodToHours","statsPeriodToDays","getDynamicText","commonTheme","formatUsageWithUnits","GIGABYTE","getTooltipFormatter","getXAxisDates","getXAxisLabelInterval","COLOR_ERRORS","errors","lighten","string","COLOR_TRANSACTIONS","transactions","COLOR_ATTACHMENTS","attachments","COLOR_DROPPED","COLOR_FILTERED","pink100","yAxisMinInterval","ChartDataTransform","CHART_OPTIONS_DATA_TRANSFORM","CUMULATIVE","PERIODIC","SeriesTypes","UsageChart","xAxisDates","getDerivedStateFromProps","nextProps","prevState","usageDateStart","usageDateEnd","usageDateShowUtc","usageDateInterval","chartColors","COLOR_PROJECTED","chartOther","chartMetadata","categoryOptions","usageStats","dataTransform","handleDataTransformation","state","selectDataCategory","find","Error","chartData","Object","keys","forEach","k","isProjected","PROJECTED","stat","show","itemStyle","opacity","dataPeriod","barPeriod","xAxisTickInterval","xAxisLabelInterval","chartLabel","xAxisData","yAxisFormatter","val","isAbbreviated","useUnitScaling","tooltipValueFormatter","chartSeries","series","name","ACCEPTED","data","accepted","barMinHeight","stack","legendHoverLink","FILTERED","filtered","DROPPED","dropped","projected","concat","chartLegend","legend","chartTooltip","trigger","valueFormatter","renderChart","isLoading","isError","message","bottom","left","right","top","type","axisTick","interval","alignWithLabel","axisLabel","formatter","slice","min","minInterval","color","fixed","footer","stats","isCumulative","count","x","y","ErrorMessages","fontSizeSmall","parseStatsPeriod","FORMAT_DATETIME_DAILY","FORMAT_DATETIME_HOURLY","getDateFromMoment","m","useUtc","days","parsedInterval","local","add","periodLength","getDateFromUnixTimestamp","timestamp","date","unix","dateStart","dateEnd","dateUtc","range","startOf","isValid","isAfter","MAX_NUMBER_OF_LABELS","numBars","getLabelIntervalLongPeriod","getLabelIntervalShortPeriod","numTicks","numLabels","daysBetweenLabels","daysBetweenTicks","i","Sentry","AsyncComponent","InlineContainer","SectionHeading","getSeriesApiInterval","UsageStatsPerMin","getFormatUsageOptions","isDisplayUtc","UsageStatsOrganization","handleChangeState","loading","error","chartDateInterval","chartDateStartDisplay","chartDateEndDisplay","chartDateTimezoneDisplay","timezone","componentDidUpdate","prevProps","prevDateTime","currDateTime","reloadData","getEndpoints","endpointPath","endpointQuery","queryDatetime","groupBy","field","orgStats","mapSeriesToChart","chartDateRange","intervals","chartDateStart","chartDateEnd","chartDateUtc","intervalHours","startTime","endTime","FORMAT_DATETIME","xAxisStart","xAxisEnd","displayStart","displayEnd","cardStats","total","chartStats","dateTime","INVALID","RATE_LIMITED","CLIENT_DISCARD","groups","group","outcome","category","by","totals","err","withScope","scope","setContext","captureException","dataError","renderCards","cardMetadata","secondaryValue","card","hasError","chartErrors","renderChartFooter","renderComponent","StyledScoreCard","ChartWrapper","Footer","border","FooterDate","fontSizeMedium","minuteData","lastMin","Math","max","eventsLastMin","reduce","success","Pagination","SearchBar","withProjects","UsageTable","CellProject","CellStat","SortBy","nextKey","key","nextDirection","PROJECT","prevDataCategory","currDataCategory","tableData","projectStats","headers","tableHeader","mapSeriesToTable","TOTAL","charAt","offset","Number","split","isNaN","pageLink","numRows","filteredProjects","prevOffset","MAX_ROWS_USAGE_TABLE","nextOffset","projects","filter","hasAccess","getArrowDirection","linkKey","handleChangeSort","h","Cell","getProjectLink","projectLink","projectSettingsLink","tableStats","baseStat","projectList","projectSet","Set","projectId","has","toString","proj","a","b","localeCompare","loadingProjects","handleSearch","Container","IdBadge","ExternalLink","SettingsIconLink","PanelTable","IconSettings","EmptyMessage","DOCS_URL","errorMessage","responseJSON","detail","formatUsageOptions","renderTableRow","iconSizes","sm","isEmpty","getErrorMessage","s","StyledPanelTable","StyledIdBadge","formatBytesBase10","MILLION","BILLION","usageQuantity","abbreviateUsageNumber","toLocaleString","usageGb","maximumFractionDigits","n","toFixed","hours"],"sourceRoot":""}